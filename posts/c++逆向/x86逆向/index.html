<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>x86逆向 - 夏洛魂的个人博客</title><meta name="Description" content="个人笔记本"><meta property="og:title" content="x86逆向" />
<meta property="og:description" content="x86逆向 除法 约定 两个无符号相除,结果仍然是无符号. 两个有符号相除,结果是有符号. 有符号数和无符号数混除,结果是无符号的. 基本概念 在C语言和" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://XiaLuoHun.github.io/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-14T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-02-14T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="x86逆向"/>
<meta name="twitter:description" content="x86逆向 除法 约定 两个无符号相除,结果仍然是无符号. 两个有符号相除,结果是有符号. 有符号数和无符号数混除,结果是无符号的. 基本概念 在C语言和"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="canonical" href="https://XiaLuoHun.github.io/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/" /><link rel="prev" href="https://XiaLuoHun.github.io/posts/android/android%E5%9F%BA%E7%A1%80/ndk%E8%BF%9B%E9%98%B6/" /><link rel="next" href="https://XiaLuoHun.github.io/posts/c&#43;&#43;%E9%80%86%E5%90%91/x64%E9%80%86%E5%90%91/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "x86逆向",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/XiaLuoHun.github.io\/posts\/c\u002b\u002b%E9%80%86%E5%90%91\/x86%E9%80%86%E5%90%91\/"
        },"genre": "posts","keywords": "C\u002b\u002b逆向","wordcount":  10613 ,
        "url": "https:\/\/XiaLuoHun.github.io\/posts\/c\u002b\u002b%E9%80%86%E5%90%91\/x86%E9%80%86%E5%90%91\/","datePublished": "2022-02-14T00:00:00+00:00","dateModified": "2022-02-14T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": "夏洛魂"},"author": {
                "@type": "Person",
                "name": "夏洛魂"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="夏洛魂的个人博客">主页</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/about/"> 关于作者 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="夏洛魂的个人博客">主页</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/about/" title="">关于作者</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">x86逆向</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>夏洛魂</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/c++%E9%80%86%E5%90%91/"><i class="far fa-folder fa-fw"></i>C++逆向</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-02-14">2022-02-14</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 10613 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 22 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#x86逆向">x86逆向</a>
      <ul>
        <li><a href="#除法">除法</a>
          <ul>
            <li><a href="#约定">约定</a></li>
            <li><a href="#基本概念">基本概念</a>
              <ul>
                <li><a href="#向下取整">向下取整</a></li>
                <li><a href="#向上取整">向上取整</a></li>
                <li><a href="#向零取整">向零取整</a></li>
              </ul>
            </li>
            <li><a href="#无符号除法">无符号除法</a>
              <ul>
                <li><a href="#除数为变量">除数为变量</a></li>
                <li><a href="#除数为2的幂">除数为2的幂</a></li>
                <li><a href="#除数为非2的幂">除数为非2的幂</a>
                  <ul>
                    <li><a href="#magicnumber无进位">MagicNumber无进位</a>
                      <ul>
                        <li><a href="#推导">推导</a></li>
                        <li><a href="#特征">特征</a></li>
                        <li><a href="#还原">还原</a></li>
                      </ul>
                    </li>
                    <li><a href="#magicnumber有进位">MagicNumber有进位</a>
                      <ul>
                        <li><a href="#推导-1">推导</a></li>
                        <li><a href="#特征-1">特征</a></li>
                        <li><a href="#还原-1">还原</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#有符号除法">有符号除法</a>
              <ul>
                <li><a href="#除数为正2的幂">除数为正2的幂</a>
                  <ul>
                    <li><a href="#推导-2">推导</a></li>
                    <li><a href="#特征-2">特征</a></li>
                    <li><a href="#还原-2">还原</a></li>
                  </ul>
                </li>
                <li><a href="#除数为正非2的幂">除数为正非2的幂</a>
                  <ul>
                    <li><a href="#magicnumber为正">MagicNumber为正</a>
                      <ul>
                        <li><a href="#推导-3">推导</a></li>
                        <li><a href="#特征-3">特征</a></li>
                        <li><a href="#还原-3">还原</a></li>
                      </ul>
                    </li>
                    <li><a href="#magicnumber为负">MagicNumber为负</a>
                      <ul>
                        <li><a href="#推导-4">推导</a></li>
                        <li><a href="#特征-4">特征</a></li>
                        <li><a href="#还原-4">还原</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#除数为负2的幂">除数为负2的幂</a>
                  <ul>
                    <li><a href="#推导-5">推导</a></li>
                    <li><a href="#特征-5">特征</a></li>
                    <li><a href="#还原-5">还原</a></li>
                  </ul>
                </li>
                <li><a href="#除数为负非2的幂">除数为负非2的幂</a>
                  <ul>
                    <li><a href="#magicnumber为正-1">MagicNumber为正</a>
                      <ul>
                        <li><a href="#推导-6">推导</a></li>
                        <li><a href="#特征-6">特征</a></li>
                        <li><a href="#还原-6">还原</a></li>
                      </ul>
                    </li>
                    <li><a href="#magicnumber为负-1">MagicNumber为负</a>
                      <ul>
                        <li><a href="#推导-7">推导</a></li>
                        <li><a href="#特征-7">特征</a></li>
                        <li><a href="#还原-7">还原</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#取模">取模</a>
          <ul>
            <li><a href="#基础">基础</a></li>
            <li><a href="#无符号取模">无符号取模</a>
              <ul>
                <li><a href="#除数为2的幂-1">除数为2的幂</a>
                  <ul>
                    <li><a href="#推导-8">推导</a></li>
                    <li><a href="#特征-8">特征</a></li>
                    <li><a href="#还原-8">还原</a></li>
                  </ul>
                </li>
                <li><a href="#除数为非2的幂-1">除数为非2的幂</a>
                  <ul>
                    <li><a href="#推导-9">推导</a></li>
                    <li><a href="#还原-9">还原</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#有符号取模">有符号取模</a>
              <ul>
                <li><a href="#除数为正2的幂-1">除数为正2的幂</a>
                  <ul>
                    <li><a href="#带分支">带分支</a>
                      <ul>
                        <li><a href="#推导-10">推导</a></li>
                        <li><a href="#特征-9">特征</a></li>
                        <li><a href="#还原-10">还原</a></li>
                      </ul>
                    </li>
                    <li><a href="#不带分支">不带分支</a></li>
                  </ul>
                </li>
                <li><a href="#除数为正非2的幂-1">除数为正非2的幂</a>
                  <ul>
                    <li><a href="#推导-11">推导</a></li>
                    <li><a href="#还原-11">还原</a></li>
                  </ul>
                </li>
                <li><a href="#除数为负2的幂-1">除数为负2的幂</a>
                  <ul>
                    <li><a href="#推导-12">推导</a></li>
                    <li><a href="#还原-12">还原</a></li>
                  </ul>
                </li>
                <li><a href="#除数为负非2的幂-1">除数为负非2的幂</a>
                  <ul>
                    <li><a href="#推导-13">推导</a></li>
                    <li><a href="#还原-13">还原</a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#三目运算">三目运算</a>
          <ul>
            <li><a href="#基础-1">基础</a></li>
            <li><a href="#低版本优化">低版本优化</a>
              <ul>
                <li><a href="#原型">原型</a>
                  <ul>
                    <li><a href="#特征-10">特征</a></li>
                  </ul>
                </li>
                <li><a href="#演变1">演变1</a>
                  <ul>
                    <li><a href="#特征-11">特征</a></li>
                  </ul>
                </li>
                <li><a href="#演变2">演变2</a></li>
              </ul>
            </li>
            <li><a href="#高版本优化">高版本优化</a></li>
          </ul>
        </li>
        <li><a href="#流程控制语句">流程控制语句</a>
          <ul>
            <li><a href="#if">IF</a>
              <ul>
                <li><a href="#单分支结构">单分支结构</a>
                  <ul>
                    <li><a href="#特征-12">特征</a></li>
                  </ul>
                </li>
                <li><a href="#双分支结构">双分支结构</a>
                  <ul>
                    <li><a href="#代码外提">代码外提</a>
                      <ul>
                        <li><a href="#特征-13">特征</a></li>
                      </ul>
                    </li>
                    <li><a href="#代码内提">代码内提</a></li>
                  </ul>
                </li>
                <li><a href="#多分支结构">多分支结构</a>
                  <ul>
                    <li><a href="#特征-14">特征</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#switchcase">SwitchCase</a>
              <ul>
                <li><a href="#case语句3">Case语句&lt;=3</a>
                  <ul>
                    <li><a href="#debug">Debug</a></li>
                    <li><a href="#release">Release</a></li>
                    <li><a href="#特征-15">特征</a></li>
                  </ul>
                </li>
                <li><a href="#case语句3且每两个case值之间的差值6">case语句&gt;3,且每两个Case值之间的差值&lt;=6</a>
                  <ul>
                    <li><a href="#debug-1">Debug</a></li>
                    <li><a href="#release-1">Release</a></li>
                    <li><a href="#特征-16">特征</a></li>
                  </ul>
                </li>
                <li><a href="#case语句3最大case值-最小case值255">case语句&gt;3,最大case值-最小case值&lt;=255</a>
                  <ul>
                    <li><a href="#debug-2">Debug</a></li>
                    <li><a href="#release-2">Release</a></li>
                    <li><a href="#特征-17">特征</a></li>
                    <li><a href="#还原-14">还原</a></li>
                  </ul>
                </li>
                <li><a href="#case语句3最大case值-最小case值255-1">case语句&gt;3,最大case值-最小case值&gt;255</a>
                  <ul>
                    <li><a href="#debug-3">Debug</a></li>
                    <li><a href="#release-3">Release</a></li>
                    <li><a href="#特征-18">特征</a></li>
                  </ul>
                </li>
                <li><a href="#注意">注意</a></li>
              </ul>
            </li>
            <li><a href="#循环语句">循环语句</a>
              <ul>
                <li><a href="#dowhile">DoWhile</a>
                  <ul>
                    <li><a href="#debug-4">Debug</a></li>
                    <li><a href="#release-4">Release</a></li>
                    <li><a href="#特征-19">特征</a></li>
                  </ul>
                </li>
                <li><a href="#while">While</a>
                  <ul>
                    <li><a href="#debug-5">Debug</a>
                      <ul>
                        <li><a href="#特征-20">特征</a></li>
                      </ul>
                    </li>
                    <li><a href="#release-5">Release</a>
                      <ul>
                        <li><a href="#特征-21">特征</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#for">For</a>
                  <ul>
                    <li><a href="#debug-6">Debug</a>
                      <ul>
                        <li><a href="#特征-22">特征</a></li>
                      </ul>
                    </li>
                    <li><a href="#release-6">Release</a>
                      <ul>
                        <li><a href="#特征-23">特征</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#注意-1">注意</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#函数调用方式">函数调用方式</a>
          <ul>
            <li><a href="#_cdecl">_cdecl</a></li>
            <li><a href="#_stdcall">_stdcall</a></li>
            <li><a href="#_fastcall">_fastcall</a></li>
          </ul>
        </li>
        <li><a href="#变量相关">变量相关</a>
          <ul>
            <li><a href="#全局变量">全局变量</a>
              <ul>
                <li><a href="#特征-24">特征</a></li>
                <li><a href="#全局变量初始化">全局变量初始化</a>
                  <ul>
                    <li><a href="#定位初始化位置">定位初始化位置</a></li>
                    <li><a href="#使用交叉引用">使用交叉引用</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#局部变量">局部变量</a>
              <ul>
                <li><a href="#特征-25">特征</a></li>
              </ul>
            </li>
            <li><a href="#局部静态变量">局部静态变量</a>
              <ul>
                <li><a href="#vc60release版">VC6.0Release版</a></li>
              </ul>
            </li>
            <li><a href="#堆变量">堆变量</a></li>
          </ul>
        </li>
        <li><a href="#x87浮点指令集">X87浮点指令集</a>
          <ul>
            <li><a href="#特征-26">特征</a></li>
            <li><a href="#运算过程">运算过程</a></li>
            <li><a href="#指令">指令</a></li>
            <li><a href="#探测浮点标志位">探测浮点标志位</a></li>
            <li><a href="#参考资料">参考资料</a></li>
          </ul>
        </li>
        <li><a href="#多媒体指令集">多媒体指令集</a>
          <ul>
            <li><a href="#mmx">MMX</a>
              <ul>
                <li><a href="#vs中使用mmx指令">VS中使用MMX指令</a></li>
                <li><a href="#特征-27">特征</a></li>
                <li><a href="#指令-1">指令</a></li>
              </ul>
            </li>
            <li><a href="#sse">SSE</a>
              <ul>
                <li><a href="#vs中使用sse指令">VS中使用SSE指令</a></li>
                <li><a href="#特征-28">特征</a></li>
                <li><a href="#指令-2">指令</a></li>
                <li><a href="#注意-2">注意</a></li>
              </ul>
            </li>
            <li><a href="#avx">AVX</a>
              <ul>
                <li><a href="#vs中使用avx指令">VS中使用AVX指令</a></li>
                <li><a href="#特征-29">特征</a></li>
                <li><a href="#指令-3">指令</a></li>
              </ul>
            </li>
            <li><a href="#vs中设置多媒体指令集">VS中设置多媒体指令集</a></li>
          </ul>
        </li>
        <li><a href="#数组">数组</a>
          <ul>
            <li><a href="#特性">特性</a></li>
            <li><a href="#体现数组特性">体现数组特性</a></li>
            <li><a href="#一维数组">一维数组</a>
              <ul>
                <li><a href="#debug-7">Debug</a></li>
                <li><a href="#release-7">Release</a></li>
                <li><a href="#高版本vs2015release">高版本(VS2015)Release</a></li>
                <li><a href="#数组寻址公式">数组寻址公式</a></li>
              </ul>
            </li>
            <li><a href="#二维数组">二维数组</a>
              <ul>
                <li><a href="#debug-8">Debug</a></li>
                <li><a href="#release-8">Release</a></li>
                <li><a href="#数组寻址公式-1">数组寻址公式</a></li>
              </ul>
            </li>
            <li><a href="#三维数组">三维数组</a>
              <ul>
                <li><a href="#debug-9">Debug</a></li>
                <li><a href="#release-9">Release</a></li>
                <li><a href="#数组寻址公式-2">数组寻址公式</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#结构体">结构体</a>
          <ul>
            <li><a href="#指针访问结构体成员">指针访问结构体成员</a>
              <ul>
                <li><a href="#debug-10">Debug</a></li>
                <li><a href="#特征-30">特征</a></li>
              </ul>
            </li>
            <li><a href="#参数为结构体变量">参数为结构体变量</a>
              <ul>
                <li><a href="#debug-11">Debug</a></li>
                <li><a href="#高版本vs2019">高版本(VS2019)</a></li>
                <li><a href="#特征-31">特征</a></li>
              </ul>
            </li>
            <li><a href="#参数为结构体指针">参数为结构体指针</a>
              <ul>
                <li><a href="#debug-12">Debug</a></li>
                <li><a href="#特征-32">特征</a></li>
              </ul>
            </li>
            <li><a href="#函数返回值为结构体">函数返回值为结构体</a>
              <ul>
                <li><a href="#debug-13">Debug</a></li>
                <li><a href="#特征-33">特征</a></li>
                <li><a href="#还原-15">还原</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#c之变量相关">C++之变量相关</a>
          <ul>
            <li><a href="#类对象为局部变量">类对象为局部变量</a>
              <ul>
                <li><a href="#识别成员函数">识别成员函数</a>
                  <ul>
                    <li><a href="#release-10">Release</a></li>
                    <li><a href="#特征-34">特征</a></li>
                  </ul>
                </li>
                <li><a href="#识别构造函数">识别构造函数</a>
                  <ul>
                    <li><a href="#release-11">Release</a></li>
                    <li><a href="#特征-35">特征</a></li>
                  </ul>
                </li>
                <li><a href="#识别析构函数">识别析构函数</a>
                  <ul>
                    <li><a href="#release-12">Release</a></li>
                    <li><a href="#特征-36">特征</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#类对象为全局变量">类对象为全局变量</a>
              <ul>
                <li><a href="#构造函数和析构函数">构造函数和析构函数</a>
                  <ul>
                    <li><a href="#release-13">Release</a>
                      <ul>
                        <li><a href="#构造函数">构造函数</a></li>
                        <li><a href="#析构函数">析构函数</a></li>
                      </ul>
                    </li>
                    <li><a href="#debug-14">Debug</a>
                      <ul>
                        <li><a href="#构造函数-1">构造函数</a></li>
                        <li><a href="#析构函数-1">析构函数</a></li>
                        <li><a href="#总结">总结</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#类对象为堆变量">类对象为堆变量</a>
              <ul>
                <li><a href="#new单个对象">New单个对象</a>
                  <ul>
                    <li><a href="#release-14">Release</a>
                      <ul>
                        <li><a href="#new">new</a></li>
                        <li><a href="#delete">delete</a></li>
                        <li><a href="#注意-3">注意</a></li>
                      </ul>
                    </li>
                    <li><a href="#debug-15">Debug</a>
                      <ul>
                        <li><a href="#new-1">new</a></li>
                        <li><a href="#delete-1">delete</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#new对象数组">New对象数组</a>
                  <ul>
                    <li><a href="#debug-16">Debug</a>
                      <ul>
                        <li><a href="#new-2">new</a></li>
                        <li><a href="#detete">detete[]</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#c之对象相关">C++之对象相关</a>
          <ul>
            <li><a href="#对象传参">对象传参</a>
              <ul>
                <li><a href="#无拷贝构造">无拷贝构造</a>
                  <ul>
                    <li><a href="#release-15">Release</a></li>
                    <li><a href="#特征-37">特征</a></li>
                  </ul>
                </li>
                <li><a href="#有拷贝构造">有拷贝构造</a>
                  <ul>
                    <li><a href="#debug-17">Debug</a></li>
                    <li><a href="#release-16">Release</a></li>
                    <li><a href="#特征-38">特征</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#对象返回">对象返回</a>
              <ul>
                <li><a href="#拷贝构造">拷贝构造</a>
                  <ul>
                    <li><a href="#debug-18">Debug</a></li>
                  </ul>
                </li>
                <li><a href="#浅拷贝">浅拷贝</a>
                  <ul>
                    <li><a href="#debug-19">Debug</a></li>
                    <li><a href="#特征-39">特征</a></li>
                  </ul>
                </li>
                <li><a href="#无名对象">无名对象</a>
                  <ul>
                    <li><a href="#debug-20">Debug</a></li>
                    <li><a href="#特征-40">特征</a></li>
                  </ul>
                </li>
                <li><a href="#特征-41">特征</a></li>
              </ul>
            </li>
            <li><a href="#运算符重载">运算符重载</a>
              <ul>
                <li><a href="#release-17">Release</a></li>
              </ul>
            </li>
            <li><a href="#静态局部">静态局部</a>
              <ul>
                <li><a href="#release-18">Release</a></li>
                <li><a href="#特征-42">特征</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#c之单重继承">C++之单重继承</a>
          <ul>
            <li><a href="#虚函数">虚函数</a>
              <ul>
                <li><a href="#调用方式">调用方式</a>
                  <ul>
                    <li><a href="#debug-21">Debug</a></li>
                    <li><a href="#特征-43">特征</a></li>
                  </ul>
                </li>
                <li><a href="#构造函数-2">构造函数</a>
                  <ul>
                    <li><a href="#debug-22">Debug</a></li>
                    <li><a href="#特征-44">特征</a></li>
                  </ul>
                </li>
                <li><a href="#初始化列表">初始化列表</a>
                  <ul>
                    <li><a href="#debug-23">Debug</a></li>
                  </ul>
                </li>
                <li><a href="#析构函数-2">析构函数</a>
                  <ul>
                    <li><a href="#debug-24">Debug</a></li>
                    <li><a href="#特征-45">特征</a></li>
                    <li><a href="#注意-4">注意</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#单重继承有虚函数">单重继承有虚函数</a>
              <ul>
                <li><a href="#构造函数-3">构造函数</a>
                  <ul>
                    <li><a href="#debug-25">Debug</a>
                      <ul>
                        <li><a href="#虚表内容">虚表内容</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#技巧之交叉引用">技巧之交叉引用</a>
                  <ul>
                    <li><a href="#查看虚表引用">查看虚表引用</a>
                      <ul>
                        <li><a href="#找到构造函数识别出虚表地址">找到构造函数,识别出虚表地址</a></li>
                        <li><a href="#右键xrefs-graph-to">右键Xrefs graph to</a></li>
                      </ul>
                    </li>
                    <li><a href="#查看构造函数引用">查看构造函数引用</a></li>
                    <li><a href="#查看父类构造函数引用">查看父类构造函数引用</a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#c之对象关系">C++之对象关系</a>
          <ul>
            <li><a href="#继承">继承</a>
              <ul>
                <li><a href="#特征-46">特征</a></li>
              </ul>
            </li>
            <li><a href="#包含">包含</a>
              <ul>
                <li><a href="#特征-47">特征</a></li>
              </ul>
            </li>
            <li><a href="#聚合">聚合</a>
              <ul>
                <li><a href="#特征-48">特征</a></li>
              </ul>
            </li>
            <li><a href="#注意-5">注意</a></li>
          </ul>
        </li>
        <li><a href="#c之多重继承">C++之多重继承</a>
          <ul>
            <li><a href="#多重继承">多重继承</a>
              <ul>
                <li><a href="#内存模型">内存模型</a></li>
                <li><a href="#构造函数-4">构造函数</a>
                  <ul>
                    <li><a href="#debug-26">Debug</a></li>
                    <li><a href="#特征-49">特征</a></li>
                  </ul>
                </li>
                <li><a href="#同类型指针转换">同类型指针转换</a>
                  <ul>
                    <li><a href="#debug-27">Debug</a></li>
                    <li><a href="#注意-6">注意</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#纯虚函数识别">纯虚函数识别</a>
              <ul>
                <li><a href="#定位到父类虚表的第二项纯虚函数项">定位到父类虚表的第二项,纯虚函数项</a>
                  <ul>
                    <li><a href="#debug-28">Debug</a></li>
                    <li><a href="#特征-50">特征</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#注意-7">注意</a></li>
          </ul>
        </li>
        <li><a href="#c之菱形结构">C++之菱形结构</a>
          <ul>
            <li><a href="#菱形结构">菱形结构</a>
              <ul>
                <li><a href="#内存模型-1">内存模型</a></li>
                <li><a href="#构造函数-5">构造函数</a>
                  <ul>
                    <li><a href="#debug-29">Debug</a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#异常">异常</a>
          <ul>
            <li><a href="#基本数据类型异常">基本数据类型异常</a></li>
            <li><a href="#无脑定位异常处理函数">无脑定位异常处理函数</a></li>
            <li><a href="#异常信息关系表">异常信息关系表</a></li>
            <li><a href="#还原异常处理结构上半部分表">还原异常处理结构(上半部分表)</a></li>
            <li><a href="#还原具体的异常处理代码下半部分表">还原具体的异常处理代码(下半部分表)</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h1 id="x86逆向">x86逆向</h1>
<h2 id="除法">除法</h2>
<h3 id="约定">约定</h3>
<ul>
<li>两个无符号相除,结果仍然是无符号.</li>
<li>两个有符号相除,结果是有符号.</li>
<li>有符号数和无符号数混除,结果是无符号的.</li>
</ul>
<h3 id="基本概念">基本概念</h3>
<p>在C语言和其他多数高级语言中,对整数除法规定为向零取整.</p>
<h4 id="向下取整">向下取整</h4>
<p>取得往负无穷方向接近x的整数值.</p>
<p>向下取整的除法,当除数为2的幂时,可以直接用带符号右移指令(sar)来完成.</p>
<p>但是,向下取整存在一个问题:
$$
⌊\frac{-a}{b}⌋ \not= -⌊\frac{a}{b}⌋ (假设\frac{a}{b}结果不为整数)
$$</p>
<h4 id="向上取整">向上取整</h4>
<p>取得往正无穷方向接近x的整数值.</p>
<p>向上取整也存在一个问题:
$$
⌈\frac{-a}{b}⌉ \not= -⌈\frac{a}{b}⌉ (假设\frac{a}{b}结果不为整数)
$$</p>
<h4 id="向零取整">向零取整</h4>
<p>取得往0方向最接近x的整数值.</p>
<p>向零取整的除法满足:
$$
[\frac{-a}{b}] = [\frac{a}{-b}] =-[\frac{a}{b}]
$$</p>
<h3 id="无符号除法">无符号除法</h3>
<h4 id="除数为变量">除数为变量</h4>
<p>除数为变量的时候是没有优化,只能使用除法指令,这里的变量是指类似argc这类在编译期间不能计算的变量.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d </span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="mi">10</span> <span class="o">/</span> <span class="n">argc</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba%e5%8f%98%e9%87%8f.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E5%8F%98%E9%87%8F.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba%e5%8f%98%e9%87%8f.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E5%8F%98%E9%87%8F.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E5%8F%98%E9%87%8F.png"
        title="无符号除数为变量" /></p>
<h4 id="除数为2的幂">除数为2的幂</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">/</span> <span class="mi">4</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba2%e7%9a%84%e5%b9%82.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba2%e7%9a%84%e5%b9%82.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82.png"
        title="无符号除数为2的幂" /></p>
<h4 id="除数为非2的幂">除数为非2的幂</h4>
<h5 id="magicnumber无进位">MagicNumber无进位</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d </span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">/</span> <span class="mi">3</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba2%e7%9a%84%e5%b9%82Magic%e6%97%a0%e8%bf%9b%e4%bd%8d1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%97%A0%E8%BF%9B%E4%BD%8D1.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba2%e7%9a%84%e5%b9%82Magic%e6%97%a0%e8%bf%9b%e4%bd%8d1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%97%A0%E8%BF%9B%E4%BD%8D1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%97%A0%E8%BF%9B%E4%BD%8D1.png"
        title="无符号除数为2的幂Magic无进位1" /></p>
<h6 id="推导">推导</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba2%e7%9a%84%e5%b9%82Magic%e6%97%a0%e8%bf%9b%e4%bd%8d2.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%97%A0%E8%BF%9B%E4%BD%8D2.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba2%e7%9a%84%e5%b9%82Magic%e6%97%a0%e8%bf%9b%e4%bd%8d2.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%97%A0%E8%BF%9B%E4%BD%8D2.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%97%A0%E8%BF%9B%E4%BD%8D2.png"
        title="无符号除数为2的幂Magic无进位2" /></p>
<h6 id="特征">特征</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">mov</span> <span class="no">eax</span><span class="p">,</span> <span class="no">MagicNumber</span>
<span class="nf">mul</span> <span class="err">被除数</span>
<span class="nf">shr</span> <span class="no">edx</span><span class="p">,</span> <span class="no">n</span> <span class="c">;这条指令可无
</span></code></pre></td></tr></table>
</div>
</div><h6 id="还原">还原</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">除数</span> <span class="o">=</span> <span class="mi">2</span><span class="o">^</span><span class="p">(</span><span class="mi">32</span> <span class="o">+</span> <span class="n">n</span><span class="p">)</span> <span class="o">/</span> <span class="n">MagicNumber</span>
<span class="err">结果向上取整</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="magicnumber有进位">MagicNumber有进位</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">/</span> <span class="mi">7</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba2%e7%9a%84%e5%b9%82Magic%e6%9c%89%e8%bf%9b%e4%bd%8d1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%9C%89%E8%BF%9B%E4%BD%8D1.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba2%e7%9a%84%e5%b9%82Magic%e6%9c%89%e8%bf%9b%e4%bd%8d1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%9C%89%E8%BF%9B%E4%BD%8D1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%9C%89%E8%BF%9B%E4%BD%8D1.png"
        title="无符号除数为2的幂Magic有进位1" /></p>
<h6 id="推导-1">推导</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba2%e7%9a%84%e5%b9%82Magic%e6%9c%89%e8%bf%9b%e4%bd%8d2.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%9C%89%E8%BF%9B%E4%BD%8D2.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba2%e7%9a%84%e5%b9%82Magic%e6%9c%89%e8%bf%9b%e4%bd%8d2.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%9C%89%E8%BF%9B%E4%BD%8D2.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%9C%89%E8%BF%9B%E4%BD%8D2.png"
        title="无符号除数为2的幂Magic有进位2" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba2%e7%9a%84%e5%b9%82Magic%e6%9c%89%e8%bf%9b%e4%bd%8d3.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%9C%89%E8%BF%9B%E4%BD%8D3.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba2%e7%9a%84%e5%b9%82Magic%e6%9c%89%e8%bf%9b%e4%bd%8d3.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%9C%89%E8%BF%9B%E4%BD%8D3.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82Magic%E6%9C%89%E8%BF%9B%E4%BD%8D3.png"
        title="无符号除数为2的幂Magic有进位3" /></p>
<h6 id="特征-1">特征</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="c">#乘减移加移
</span><span class="c"></span><span class="nf">mov</span> <span class="no">reg</span><span class="p">,</span> <span class="err">被除数</span>
<span class="nf">mov</span> <span class="no">eax</span><span class="p">,</span> <span class="no">MagicNumber</span>
<span class="nf">mul</span> <span class="no">reg</span>
<span class="nf">sub</span> <span class="no">reg</span><span class="p">,</span> <span class="no">edx</span>
<span class="nf">shr</span> <span class="no">reg</span><span class="p">,</span> <span class="mi">1</span>
<span class="nf">add</span> <span class="no">reg</span><span class="p">,</span> <span class="no">edx</span>
<span class="nf">shr</span> <span class="no">reg</span><span class="p">,</span> <span class="no">A</span><span class="c">; 这句可能没有
</span><span class="c">;此后直接使用reg的值, eax弃而不用
</span></code></pre></td></tr></table>
</div>
</div><h6 id="还原-1">还原</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">统计右移次数</span><span class="p">,</span><span class="n">n</span> <span class="o">=</span> <span class="mi">32</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">A</span>
<span class="err">除数</span> <span class="o">=</span> <span class="mi">2</span><span class="o">^</span><span class="n">n</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="mi">32</span> <span class="o">+</span> <span class="n">MagicNumber</span><span class="p">)</span>
<span class="err">结果向上取整</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="有符号除法">有符号除法</h3>
<h4 id="除数为正2的幂">除数为正2的幂</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d </span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">/</span> <span class="mi">8</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%9c%89%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a32%e7%9a%84%e5%b9%821.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%9C%89%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%821.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%9c%89%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a32%e7%9a%84%e5%b9%821.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%9C%89%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%821.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%9C%89%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%821.png"
        title="有符号除数为正2的幂1" /></p>
<h5 id="推导-2">推导</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%9c%89%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a32%e7%9a%84%e5%b9%822.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%9C%89%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%822.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%9c%89%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a32%e7%9a%84%e5%b9%822.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%9C%89%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%822.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%9C%89%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%822.png"
        title="有符号除数为正2的幂2" /></p>
<h5 id="特征-2">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">mov</span> <span class="no">eax</span><span class="p">,</span> <span class="err">被除数</span>
<span class="nf">cdq</span>
<span class="nf">and</span> <span class="no">edx</span><span class="p">,</span> <span class="mi">2</span> <span class="err">^</span> <span class="no">n</span> <span class="p">-</span> <span class="mi">1</span>
<span class="nf">add</span> <span class="no">eax</span><span class="p">,</span> <span class="no">edx</span>
<span class="nf">sar</span> <span class="no">eax</span><span class="p">,</span> <span class="no">n</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="还原-2">还原</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">除数</span> <span class="o">=</span> <span class="mi">2</span><span class="o">^</span><span class="n">n</span> 
</code></pre></td></tr></table>
</div>
</div><h4 id="除数为正非2的幂">除数为正非2的幂</h4>
<h5 id="magicnumber为正">MagicNumber为正</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d </span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">/</span> <span class="mi">5</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a3%e9%9d%9e2%e7%9a%84%e5%b9%82Magic%e4%b8%ba%e6%ad%a31.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A3%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E6%AD%A31.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a3%e9%9d%9e2%e7%9a%84%e5%b9%82Magic%e4%b8%ba%e6%ad%a31.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A3%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E6%AD%A31.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A3%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E6%AD%A31.png"
        title="除数为正非2的幂Magic为正1" /></p>
<h6 id="推导-3">推导</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a3%e9%9d%9e2%e7%9a%84%e5%b9%82Magic%e4%b8%ba%e6%ad%a32.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A3%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E6%AD%A32.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a3%e9%9d%9e2%e7%9a%84%e5%b9%82Magic%e4%b8%ba%e6%ad%a32.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A3%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E6%AD%A32.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A3%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E6%AD%A32.png"
        title="除数为正非2的幂Magic为正2" /></p>
<h6 id="特征-3">特征</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">mov</span> <span class="no">reg</span><span class="p">,</span> <span class="err">被除数</span>
<span class="nf">mov</span> <span class="no">eax</span><span class="p">,</span> <span class="no">MagicNumber</span> <span class="c">;(MagicNumber &lt;= 0x7FFFFFFF)
</span><span class="c"></span><span class="no">imul</span> <span class="no">reg</span>
<span class="nf">sar</span> <span class="no">edx</span><span class="p">,</span> <span class="no">n</span> <span class="c">;没有这条指令则指数为32
</span><span class="c"></span><span class="no">mov</span> <span class="no">reg</span><span class="p">,</span> <span class="no">edx</span>
<span class="nf">shr</span> <span class="no">reg</span><span class="p">,</span> <span class="mi">1</span><span class="no">Fh</span>
<span class="nf">add</span> <span class="no">edx</span><span class="p">,</span> <span class="no">reg</span>
<span class="c">;此后直接使用edx的值
</span><span class="c"></span>
<span class="nf">MagicNumber为正</span>
<span class="err">乘法和移位之间无调整</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="还原-3">还原</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">除数</span> <span class="o">=</span> <span class="mi">2</span><span class="o">^</span><span class="p">(</span><span class="mi">32</span> <span class="o">+</span> <span class="n">n</span><span class="p">)</span> <span class="o">/</span> <span class="n">MagicNumber</span>
<span class="err">结果向上取整</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="magicnumber为负">MagicNumber为负</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">/</span> <span class="mi">73</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a3%e9%9d%9e2%e7%9a%84%e5%b9%82Magic%e4%b8%ba%e8%b4%9f1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A3%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E8%B4%9F1.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a3%e9%9d%9e2%e7%9a%84%e5%b9%82Magic%e4%b8%ba%e8%b4%9f1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A3%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E8%B4%9F1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A3%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E8%B4%9F1.png"
        title="除数为正非2的幂Magic为负1" /></p>
<h6 id="推导-4">推导</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="err">在</span><span class="mi">16</span><span class="err">位机器上计算无符号数</span><span class="mh">0x8086</span><span class="err">与有符号数</span><span class="n">A</span><span class="p">,</span><span class="err">保证计算结果正确</span><span class="p">.</span>
<span class="mh">0x8086</span><span class="err">用</span><span class="n">imul指令会被当做负数</span><span class="p">,</span><span class="err">用补码进行计算</span>
<span class="err">计算机计算</span><span class="o">=</span> <span class="o">-</span> <span class="o">~</span><span class="mh">0x8086</span> <span class="o">*</span> <span class="n">A</span> 
          <span class="o">=</span> <span class="o">-</span> <span class="p">(</span><span class="mh">0x10000</span> <span class="o">-</span> <span class="mh">0x8086</span><span class="p">)</span> <span class="o">*</span> <span class="n">A</span>
          <span class="o">=</span><span class="p">(</span><span class="mh">0x8086</span> <span class="o">-</span> <span class="mh">0x10000</span><span class="p">)</span> <span class="o">*</span> <span class="n">A</span>
          <span class="o">=</span><span class="mh">0x8086</span> <span class="o">*</span> <span class="n">A</span> <span class="o">-</span> <span class="mh">0x10000</span> <span class="o">*</span> <span class="n">A</span>
<span class="err">而我们想要得到</span><span class="mh">0x8086</span> <span class="o">*</span> <span class="n">A</span><span class="p">,</span><span class="err">故计算出来的结果应加上</span><span class="mh">0x10000</span> <span class="o">*</span> <span class="n">A</span>
<span class="err">对应上图中的</span><span class="n">add</span> <span class="n">edx</span><span class="p">,</span> <span class="n">ecx</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="特征-4">特征</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">mov</span> <span class="no">reg</span><span class="p">,</span> <span class="err">被除数</span>
<span class="nf">mov</span> <span class="no">eax</span><span class="p">,</span> <span class="no">MagicNumber</span> <span class="c">;(MagicNumber &gt; 7FFFFFFFh)
</span><span class="c"></span><span class="no">imul</span> <span class="no">reg</span>
<span class="nf">add</span> <span class="no">edx</span><span class="p">,</span> <span class="no">reg</span>
<span class="nf">sar</span> <span class="no">edx</span><span class="p">,</span> <span class="no">n</span> <span class="c">;没有这条指令则指数为32
</span><span class="c"></span><span class="no">mov</span> <span class="no">reg</span><span class="p">,</span> <span class="no">edx</span>
<span class="nf">shr</span> <span class="no">reg</span><span class="p">,</span> <span class="mi">1</span><span class="no">Fh</span>
<span class="nf">add</span> <span class="no">edx</span><span class="p">,</span> <span class="no">reg</span>
<span class="c">;此后直接使用edx的值
</span><span class="c"></span>
<span class="nf">MagicNumber为负</span>
<span class="err">乘法和移位之间有加调整</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="还原-4">还原</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">除数</span> <span class="o">=</span> <span class="mi">2</span><span class="o">^</span><span class="p">(</span><span class="mi">32</span> <span class="o">+</span> <span class="n">n</span><span class="p">)</span> <span class="o">/</span> <span class="n">MagicNumber</span>
<span class="err">结果向上取整</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="除数为负2的幂">除数为负2的幂</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">/</span> <span class="o">-</span><span class="mi">8</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e8%b4%9f2%e7%9a%84%e5%b9%821.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F2%E7%9A%84%E5%B9%821.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e8%b4%9f2%e7%9a%84%e5%b9%821.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F2%E7%9A%84%E5%B9%821.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F2%E7%9A%84%E5%B9%821.png"
        title="除数为负2的幂1" /></p>
<h5 id="推导-5">推导</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%9c%89%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a32%e7%9a%84%e5%b9%822.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%9C%89%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%822.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e6%9c%89%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a32%e7%9a%84%e5%b9%822.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%9C%89%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%822.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E6%9C%89%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%822.png"
        title="有符号除数为正2的幂2" /></p>
<h5 id="特征-5">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">mov</span> <span class="no">eax</span><span class="p">,</span> <span class="err">被除数</span>
<span class="nf">cdq</span>
<span class="nf">and</span> <span class="no">edx</span><span class="p">,</span> <span class="mi">2</span><span class="err">^</span><span class="no">n</span> <span class="p">-</span> <span class="mi">1</span>
<span class="nf">add</span> <span class="no">eax</span><span class="p">,</span> <span class="no">edx</span>
<span class="nf">sar</span> <span class="no">eax</span><span class="p">,</span> <span class="no">n</span>
<span class="nf">neg</span> <span class="no">eax</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="还原-5">还原</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">除数</span> <span class="o">=</span> <span class="o">-</span> <span class="mi">2</span><span class="o">^</span><span class="n">n</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="除数为负非2的幂">除数为负非2的幂</h4>
<h5 id="magicnumber为正-1">MagicNumber为正</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">/</span> <span class="o">-</span><span class="mi">73</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e8%b4%9f%e9%9d%9e2%e7%9a%84%e5%b9%82Magic%e4%b8%ba%e6%ad%a31.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E6%AD%A31.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e8%b4%9f%e9%9d%9e2%e7%9a%84%e5%b9%82Magic%e4%b8%ba%e6%ad%a31.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E6%AD%A31.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E6%AD%A31.png"
        title="除数为负非2的幂Magic为正1" /></p>
<h6 id="推导-6">推导</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="err">在</span><span class="mi">16</span><span class="err">位机器上计算无符号数</span><span class="mh">0x8086</span><span class="err">与有符号数</span><span class="n">A</span><span class="p">,</span><span class="err">保证计算结果正确</span><span class="p">.</span>
<span class="mh">0x8086</span><span class="err">用</span><span class="n">imul指令会被当做负数</span><span class="p">,</span><span class="err">用补码进行计算</span>
<span class="err">计算机计算</span><span class="o">=</span> <span class="o">-</span> <span class="o">~</span><span class="mh">0x8086</span> <span class="o">*</span> <span class="n">A</span> 
          <span class="o">=</span> <span class="o">-</span> <span class="p">(</span><span class="mh">0x10000</span> <span class="o">-</span> <span class="mh">0x8086</span><span class="p">)</span> <span class="o">*</span> <span class="n">A</span>
          <span class="o">=</span><span class="p">(</span><span class="mh">0x8086</span> <span class="o">-</span> <span class="mh">0x10000</span><span class="p">)</span> <span class="o">*</span> <span class="n">A</span>
          <span class="o">=</span><span class="mh">0x8086</span> <span class="o">*</span> <span class="n">A</span> <span class="o">-</span> <span class="mh">0x10000</span> <span class="o">*</span> <span class="n">A</span>
<span class="err">假设上面</span><span class="mh">0x8086</span><span class="err">为</span><span class="n">MagicNumber</span>
<span class="err">我们的</span><span class="n">MagicNumber为正</span><span class="p">,</span><span class="err">故</span><span class="o">-</span><span class="mh">0x8086</span><span class="err">假定是</span><span class="n">MagicNumber</span>
<span class="err">所以上面的计算机计算结果应加上符号</span><span class="p">,</span><span class="err">变为</span>
<span class="o">-</span><span class="p">(</span><span class="mh">0x8086</span> <span class="o">*</span> <span class="n">A</span> <span class="o">-</span> <span class="mh">0x10000</span> <span class="o">*</span> <span class="n">A</span><span class="p">)</span>
<span class="o">=-</span><span class="mh">0x8086</span> <span class="o">*</span> <span class="n">A</span> <span class="o">+</span> <span class="mh">0x10000</span> <span class="o">*</span> <span class="n">A</span>
<span class="err">但我们想得到</span><span class="o">-</span><span class="mh">0x8086</span> <span class="o">*</span> <span class="n">A</span><span class="err">，故应再加上</span><span class="mh">0x10000</span> <span class="o">*</span> <span class="n">A</span>
<span class="err">对应上图中的</span><span class="n">sub</span> <span class="n">edx</span><span class="p">,</span> <span class="n">ecx</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="特征-6">特征</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">mov</span> <span class="no">reg</span><span class="p">,</span> <span class="err">被除数</span>
<span class="nf">mov</span> <span class="no">eax</span><span class="p">,</span> <span class="no">MagicNumber</span>
<span class="nf">imul</span> <span class="no">reg</span>
<span class="nf">sub</span> <span class="no">edx</span><span class="p">,</span> <span class="no">reg</span>
<span class="nf">sar</span> <span class="no">edx</span><span class="p">,</span> <span class="no">n</span> <span class="c">;没有这句, 指数为32
</span><span class="c"></span><span class="no">mov</span> <span class="no">reg</span><span class="p">,</span> <span class="no">edx</span>
<span class="nf">shr</span> <span class="no">reg</span><span class="p">,</span> <span class="mi">1</span><span class="no">Fh</span>
<span class="nf">add</span> <span class="no">edx</span><span class="p">,</span> <span class="no">eax</span>
<span class="c">;此后使用edx的值
</span><span class="c"></span>
<span class="nf">MagicNumber为正</span>
<span class="err">乘法和移位之间有减调整</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="还原-6">还原</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">先将</span><span class="n">MagicNumber求补</span><span class="p">(</span><span class="err">取反</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">拿到原来的</span><span class="n">MagicNumbeSrc</span>
<span class="err">除数的绝对值</span> <span class="o">=</span> <span class="mi">2</span><span class="o">^</span><span class="p">(</span><span class="mi">32</span> <span class="o">+</span> <span class="n">n</span><span class="p">)</span> <span class="o">/</span><span class="n">MagicNumberSrc</span>
<span class="err">结果向上取整</span>
<span class="err">除数为负</span>
<span class="err">由于</span><span class="n">MagicNumber为正</span><span class="p">,</span><span class="err">故求补得到的</span><span class="n">MagicNumberSrc为负</span>
<span class="err">注意参与计算的</span><span class="n">MagicNumSrc应当做无符号数进行计算</span>

<span class="err">本例中</span><span class="n">MagicNumber</span> <span class="o">=</span> <span class="mh">0x1F8FC7E3</span>
<span class="n">MagicNumberSrc</span> <span class="o">=</span> <span class="mh">0xE070381D</span><span class="p">,</span> <span class="err">对应的无符号十进制数为</span><span class="mi">3765450781</span>
<span class="err">故除数的绝对值</span> <span class="o">=</span> <span class="mi">2</span><span class="o">^</span><span class="mi">38</span> <span class="o">/</span> <span class="mi">3765450781</span>
<span class="err">结果向上取整为</span><span class="mi">73</span>
<span class="err">再添加负号就还原了除数为</span><span class="o">-</span><span class="mi">73</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="magicnumber为负-1">MagicNumber为负</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">/</span> <span class="o">-</span><span class="mi">5</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e8%b4%9f%e9%9d%9e2%e7%9a%84%e5%b9%82Magic%e4%b8%ba%e8%b4%9f1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E8%B4%9F1.png, images/%e9%99%a4%e6%b3%95%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e8%b4%9f%e9%9d%9e2%e7%9a%84%e5%b9%82Magic%e4%b8%ba%e8%b4%9f1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E8%B4%9F1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E9%99%A4%E6%B3%95%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F%E9%9D%9E2%E7%9A%84%E5%B9%82Magic%E4%B8%BA%E8%B4%9F1.png"
        title="除数为负非2的幂Magic为负1" /></p>
<h6 id="推导-7">推导</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="n">A</span><span class="o">/</span><span class="p">(</span><span class="o">-</span><span class="n">C</span><span class="p">),</span><span class="n">C</span><span class="o">&gt;</span><span class="mi">0</span>
<span class="o">-&gt;</span> <span class="o">-</span><span class="n">A</span> <span class="o">*</span> <span class="n">M</span> <span class="o">&gt;&gt;</span> <span class="n">n</span>
<span class="o">-&gt;</span> <span class="n">A</span> <span class="o">*</span> <span class="o">-</span><span class="n">M</span> <span class="o">&gt;&gt;</span> <span class="n">n</span>
<span class="err">故汇编显示的</span><span class="n">MagicNumber为原来MagicNumber求补后的结果</span><span class="p">.</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="特征-7">特征</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">mov</span> <span class="no">reg</span><span class="p">,</span> <span class="err">被除数</span>
<span class="nf">mov</span> <span class="no">eax</span><span class="p">,</span> <span class="no">MagicNumber</span>
<span class="nf">imul</span> <span class="no">reg</span>
<span class="nf">sar</span> <span class="no">edx</span><span class="p">,</span> <span class="no">n</span> <span class="c">;没有这句, 指数为32
</span><span class="c"></span><span class="no">mov</span> <span class="no">reg</span><span class="p">,</span> <span class="no">edx</span>
<span class="nf">shr</span> <span class="no">reg</span><span class="p">,</span> <span class="mi">1</span><span class="no">Fh</span>
<span class="nf">add</span> <span class="no">edx</span><span class="p">,</span> <span class="no">reg</span>
<span class="c">;此后使用edx的值
</span><span class="c"></span>
<span class="nf">MagicNumber为负</span>
<span class="err">乘法和移位之间没有调整</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="还原-7">还原</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">先将</span><span class="n">MagicNumber求补</span><span class="p">(</span><span class="err">取反</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">拿到原来的</span><span class="n">MagicNumbeSrc</span>
<span class="err">除数的绝对值</span> <span class="o">=</span> <span class="mi">2</span><span class="o">^</span><span class="p">(</span><span class="mi">32</span> <span class="o">+</span> <span class="n">n</span><span class="p">)</span> <span class="o">/</span><span class="n">MagicNumberSrc</span>
<span class="err">结果向上取整</span>
<span class="err">除数为负</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="取模">取模</h2>
<h3 id="基础">基础</h3>
<p>模的符号与被除数相同.</p>
<p>除数为变量,无优化,只有当除数为常量时,才有优化空间.</p>
<h3 id="无符号取模">无符号取模</h3>
<h4 id="除数为2的幂-1">除数为2的幂</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">%</span> <span class="mi">8</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%96%e6%a8%a1%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba2%e7%9a%84%e5%b9%82.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82.png, images/%e5%8f%96%e6%a8%a1%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba2%e7%9a%84%e5%b9%82.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA2%E7%9A%84%E5%B9%82.png"
        title="无符号除数为2的幂" /></p>
<h5 id="推导-8">推导</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">对</span><span class="mi">2</span><span class="err">的</span><span class="n">n次方取模</span><span class="p">,</span><span class="err">实际上是取该数值的二进制低</span><span class="n">n位</span>
<span class="err">如</span><span class="mi">10</span><span class="err">进制中</span><span class="p">,</span><span class="mi">321</span><span class="o">%</span><span class="mi">100</span><span class="p">,</span><span class="err">我们取</span><span class="mi">321</span><span class="err">的低</span><span class="mi">2</span><span class="err">位</span><span class="p">,</span><span class="err">就可以知道余数为</span><span class="mi">21</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="特征-8">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">mov</span> <span class="no">reg</span><span class="p">,</span> <span class="err">被除数</span>
<span class="nf">and</span> <span class="no">reg</span><span class="p">,</span> <span class="mi">2</span> <span class="err">^</span> <span class="no">n</span> <span class="p">-</span> <span class="mi">1</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="还原-8">还原</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="err">除数</span> <span class="o">=</span> <span class="mi">2</span><span class="o">^</span><span class="n">n</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="除数为非2的幂-1">除数为非2的幂</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">%</span> <span class="mi">7</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%96%e6%a8%a1%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba%e9%9d%9e2%e7%9a%84%e5%b9%82.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E9%9D%9E2%E7%9A%84%E5%B9%82.png, images/%e5%8f%96%e6%a8%a1%e9%80%86%e5%90%91/%e6%97%a0%e7%ac%a6%e5%8f%b7%e9%99%a4%e6%95%b0%e4%b8%ba%e9%9d%9e2%e7%9a%84%e5%b9%82.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E9%9D%9E2%E7%9A%84%E5%B9%82.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E6%97%A0%E7%AC%A6%E5%8F%B7%E9%99%A4%E6%95%B0%E4%B8%BA%E9%9D%9E2%E7%9A%84%E5%B9%82.png"
        title="无符号除数为非2的幂" /></p>
<h5 id="推导-9">推导</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">余数</span> <span class="o">=</span> <span class="err">被除数</span> <span class="o">-</span> <span class="err">商</span> <span class="o">*</span> <span class="err">除数</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="还原-9">还原</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="err">可以通过上面的除法部分得到除数</span>
<span class="err">也可以通过中间商乘以除数的部分得到除数</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="有符号取模">有符号取模</h3>
<h4 id="除数为正2的幂-1">除数为正2的幂</h4>
<h5 id="带分支">带分支</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">%</span> <span class="mi">8</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%96%e6%a8%a1%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a32%e7%9a%84%e5%b9%82%e5%b8%a6%e5%88%86%e6%94%af1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%82%E5%B8%A6%E5%88%86%E6%94%AF1.png, images/%e5%8f%96%e6%a8%a1%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a32%e7%9a%84%e5%b9%82%e5%b8%a6%e5%88%86%e6%94%af1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%82%E5%B8%A6%E5%88%86%E6%94%AF1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%82%E5%B8%A6%E5%88%86%E6%94%AF1.png"
        title="除数为正2的幂带分支1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%96%e6%a8%a1%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a32%e7%9a%84%e5%b9%82%e5%b8%a6%e5%88%86%e6%94%af2.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%82%E5%B8%A6%E5%88%86%E6%94%AF2.png, images/%e5%8f%96%e6%a8%a1%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a32%e7%9a%84%e5%b9%82%e5%b8%a6%e5%88%86%e6%94%af2.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%82%E5%B8%A6%E5%88%86%E6%94%AF2.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A32%E7%9A%84%E5%B9%82%E5%B8%A6%E5%88%86%E6%94%AF2.png"
        title="除数为正2的幂带分支2" /></p>
<h6 id="推导-10">推导</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">mov</span>     <span class="no">eax</span><span class="p">,</span> <span class="p">[</span><span class="no">esp</span><span class="err">+</span><span class="no">argc</span><span class="p">]</span>  <span class="c">;将被除数给eax
</span><span class="c"></span><span class="no">and</span>     <span class="no">eax</span><span class="p">,</span> <span class="mi">80000007</span><span class="no">h</span>   <span class="c">;取被除数的符号位和低n位
</span><span class="c"></span><span class="no">jns</span>     <span class="no">short</span> <span class="no">loc_401010</span> <span class="c">;如果被除数为正,跳走,直接使用eax
</span><span class="c"></span><span class="no">dec</span>     <span class="no">eax</span>              <span class="c">;处理负数取模为0的情况 减1后为全f,如果取模不为0的情况是不需要dec和inc指令
</span><span class="c"></span><span class="no">or</span>      <span class="no">eax</span><span class="p">,</span> <span class="mi">0</span><span class="no">FFFFFFF8h</span>   <span class="c">;被除数为负,需要将模的结果高位填补为1
</span><span class="c"></span><span class="no">inc</span>     <span class="no">eax</span>                 <span class="c">;处理负数取模为0的情况 上面减后全为f,此处加1,调整为0
</span><span class="c"></span><span class="no">loc_401010</span><span class="p">:</span>             
  <span class="c">;使用eax
</span></code></pre></td></tr></table>
</div>
</div><h6 id="特征-9">特征</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">mov</span> <span class="no">reg</span><span class="p">,</span> <span class="err">被除数</span>
<span class="nf">and</span> <span class="no">reg</span><span class="p">,</span> <span class="mi">0x8000000</span><span class="p">(</span><span class="mi">2</span><span class="err">^</span><span class="no">n</span> <span class="p">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="nf">jns</span> <span class="no">LABLE</span>
<span class="nf">dec</span> <span class="no">reg</span>
<span class="nf">or</span> <span class="no">reg</span><span class="p">,</span> <span class="mi">0xFFFFFFF</span><span class="p">(</span><span class="mi">2</span><span class="err">^</span><span class="no">n</span><span class="p">)</span>
<span class="nf">inc</span> <span class="no">reg</span>
<span class="nl">LABLE:</span>
  <span class="c">;使用reg
</span></code></pre></td></tr></table>
</div>
</div><h6 id="还原-10">还原</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">除数</span> <span class="o">=</span> <span class="mi">2</span><span class="o">^</span><span class="n">n</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="不带分支">不带分支</h5>
<p>见除数为负2的幂.</p>
<h4 id="除数为正非2的幂-1">除数为正非2的幂</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">%</span> <span class="mi">7</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%96%e6%a8%a1%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a3%e9%9d%9e2%e7%9a%84%e5%b9%82.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A3%E9%9D%9E2%E7%9A%84%E5%B9%82.png, images/%e5%8f%96%e6%a8%a1%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e6%ad%a3%e9%9d%9e2%e7%9a%84%e5%b9%82.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A3%E9%9D%9E2%E7%9A%84%E5%B9%82.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E6%AD%A3%E9%9D%9E2%E7%9A%84%E5%B9%82.png"
        title="除数为正非2的幂" /></p>
<h5 id="推导-11">推导</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">余数</span> <span class="o">=</span> <span class="err">被除数</span> <span class="o">-</span> <span class="err">商</span> <span class="o">*</span> <span class="err">除数</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="还原-11">还原</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">可以通过上面的除法部分得到除数</span>
<span class="err">也可以通过中间商乘以除数的部分得到除数</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="除数为负2的幂-1">除数为负2的幂</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">%</span> <span class="o">-</span><span class="mi">8</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%96%e6%a8%a1%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e8%b4%9f2%e7%9a%84%e5%b9%82.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F2%E7%9A%84%E5%B9%82.png, images/%e5%8f%96%e6%a8%a1%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e8%b4%9f2%e7%9a%84%e5%b9%82.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F2%E7%9A%84%E5%B9%82.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F2%E7%9A%84%E5%B9%82.png"
        title="除数为负2的幂" /></p>
<h5 id="推导-12">推导</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">对</span><span class="mi">2</span><span class="err">的</span><span class="n">n次方取模</span><span class="p">,</span><span class="err">实际上是取该数值的二进制低</span><span class="n">n位</span>
<span class="err">模的符号与被除数相同</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="还原-12">还原</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">上图中的</span><span class="mi">7</span><span class="err">为</span><span class="mi">2</span><span class="o">^</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
<span class="err">除数</span> <span class="o">=</span> <span class="mi">2</span><span class="o">^</span><span class="n">n</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="除数为负非2的幂-1">除数为负非2的幂</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">%</span> <span class="o">-</span><span class="mi">7</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%96%e6%a8%a1%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e8%b4%9f%e9%9d%9e2%e7%9a%84%e5%b9%82.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F%E9%9D%9E2%E7%9A%84%E5%B9%82.png, images/%e5%8f%96%e6%a8%a1%e9%80%86%e5%90%91/%e9%99%a4%e6%95%b0%e4%b8%ba%e8%b4%9f%e9%9d%9e2%e7%9a%84%e5%b9%82.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F%E9%9D%9E2%E7%9A%84%E5%B9%82.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%96%E6%A8%A1%E9%80%86%E5%90%91/%E9%99%A4%E6%95%B0%E4%B8%BA%E8%B4%9F%E9%9D%9E2%E7%9A%84%E5%B9%82.png"
        title="除数为负非2的幂" /></p>
<h5 id="推导-13">推导</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">余数</span> <span class="o">=</span> <span class="err">被除数</span> <span class="o">-</span> <span class="err">商</span> <span class="o">*</span> <span class="err">除数</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="还原-13">还原</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">可以通过上面的除法部分得到除数</span>
<span class="err">也可以通过中间商乘以除数的部分得到除数</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="三目运算">三目运算</h2>
<h3 id="基础-1">基础</h3>
<p>表达式1 ? 表达式2 : 表达式3,只有当表达式2和表达式3为常量时,才可以优化,否则和if分支语句产生的代码一样.</p>
<h3 id="低版本优化">低版本优化</h3>
<h4 id="原型">原型</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e4%b8%89%e7%9b%ae%e8%bf%90%e7%ae%97%e9%80%86%e5%90%91/%e4%bd%8e%e7%89%88%e6%9c%ac%e5%8e%9f%e5%9e%8b.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E9%80%86%E5%90%91/%E4%BD%8E%E7%89%88%E6%9C%AC%E5%8E%9F%E5%9E%8B.png, images/%e4%b8%89%e7%9b%ae%e8%bf%90%e7%ae%97%e9%80%86%e5%90%91/%e4%bd%8e%e7%89%88%e6%9c%ac%e5%8e%9f%e5%9e%8b.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E9%80%86%E5%90%91/%E4%BD%8E%E7%89%88%E6%9C%AC%E5%8E%9F%E5%9E%8B.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E9%80%86%E5%90%91/%E4%BD%8E%E7%89%88%E6%9C%AC%E5%8E%9F%E5%9E%8B.png"
        title="低版本原型" /></p>
<h5 id="特征-10">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">mov</span>     <span class="no">reg</span><span class="p">,</span> <span class="err">表达式</span><span class="mi">1</span><span class="err">中的第</span><span class="mi">1</span><span class="err">项值</span>
<span class="nf">neg</span>     <span class="no">reg</span>    
<span class="no">sbb</span>     <span class="no">reg</span><span class="p">,</span> <span class="no">reg</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="演变1">演变1</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">==</span> <span class="mi">100</span> <span class="o">?</span> <span class="mi">6</span> <span class="o">:</span> <span class="mi">2</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e4%b8%89%e7%9b%ae%e8%bf%90%e7%ae%97%e9%80%86%e5%90%91/%e4%bd%8e%e7%89%88%e6%9c%ac%e6%bc%94%e5%8f%98%e4%b8%80.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E9%80%86%E5%90%91/%E4%BD%8E%E7%89%88%E6%9C%AC%E6%BC%94%E5%8F%98%E4%B8%80.png, images/%e4%b8%89%e7%9b%ae%e8%bf%90%e7%ae%97%e9%80%86%e5%90%91/%e4%bd%8e%e7%89%88%e6%9c%ac%e6%bc%94%e5%8f%98%e4%b8%80.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E9%80%86%E5%90%91/%E4%BD%8E%E7%89%88%E6%9C%AC%E6%BC%94%E5%8F%98%E4%B8%80.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E9%80%86%E5%90%91/%E4%BD%8E%E7%89%88%E6%9C%AC%E6%BC%94%E5%8F%98%E4%B8%80.png"
        title="低版本演变一" /></p>
<h5 id="特征-11">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">mov</span> <span class="no">reg</span><span class="p">,</span><span class="err">表达式</span><span class="mi">1</span><span class="err">第一项值</span>
<span class="nf">sub</span> <span class="no">reg</span><span class="p">,</span> <span class="err">表达式</span><span class="mi">1</span><span class="err">第二项值</span>
<span class="nf">neg</span> <span class="no">reg</span>
<span class="nf">sbb</span> <span class="no">reg</span><span class="p">,</span> <span class="no">reg</span>
<span class="nf">and</span> <span class="no">rl</span><span class="p">,</span> <span class="err">表达式</span><span class="mi">3</span><span class="p">-</span><span class="err">表达式</span><span class="mi">2</span>
<span class="nf">add</span> <span class="no">reg</span><span class="p">,</span> <span class="err">表达式</span><span class="mi">2</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="演变2">演变2</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">&gt;</span> <span class="mi">100</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">6</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e4%b8%89%e7%9b%ae%e8%bf%90%e7%ae%97%e9%80%86%e5%90%91/%e4%bd%8e%e7%89%88%e6%9c%ac%e6%bc%94%e5%8f%98%e4%ba%8c.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E9%80%86%E5%90%91/%E4%BD%8E%E7%89%88%E6%9C%AC%E6%BC%94%E5%8F%98%E4%BA%8C.png, images/%e4%b8%89%e7%9b%ae%e8%bf%90%e7%ae%97%e9%80%86%e5%90%91/%e4%bd%8e%e7%89%88%e6%9c%ac%e6%bc%94%e5%8f%98%e4%ba%8c.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E9%80%86%E5%90%91/%E4%BD%8E%E7%89%88%E6%9C%AC%E6%BC%94%E5%8F%98%E4%BA%8C.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E9%80%86%E5%90%91/%E4%BD%8E%E7%89%88%E6%9C%AC%E6%BC%94%E5%8F%98%E4%BA%8C.png"
        title="低版本演变二" /></p>
<h3 id="高版本优化">高版本优化</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">argc</span> <span class="o">&gt;=</span> <span class="mi">100</span> <span class="o">?</span> <span class="mi">5</span> <span class="o">:</span> <span class="mi">2</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e4%b8%89%e7%9b%ae%e8%bf%90%e7%ae%97%e9%80%86%e5%90%91/%e9%ab%98%e7%89%88%e6%9c%ac%e4%bc%98%e5%8c%96.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E9%80%86%E5%90%91/%E9%AB%98%E7%89%88%E6%9C%AC%E4%BC%98%E5%8C%96.png, images/%e4%b8%89%e7%9b%ae%e8%bf%90%e7%ae%97%e9%80%86%e5%90%91/%e9%ab%98%e7%89%88%e6%9c%ac%e4%bc%98%e5%8c%96.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E9%80%86%E5%90%91/%E9%AB%98%E7%89%88%E6%9C%AC%E4%BC%98%E5%8C%96.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E9%80%86%E5%90%91/%E9%AB%98%E7%89%88%E6%9C%AC%E4%BC%98%E5%8C%96.png"
        title="高版本优化" /></p>
<h2 id="流程控制语句">流程控制语句</h2>
<h3 id="if">IF</h3>
<h4 id="单分支结构">单分支结构</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc &gt; 10</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/IF%e5%8d%95%e5%88%86%e6%94%af%e7%bb%93%e6%9e%84.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/IF%E5%8D%95%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/IF%e5%8d%95%e5%88%86%e6%94%af%e7%bb%93%e6%9e%84.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/IF%E5%8D%95%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/IF%E5%8D%95%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84.png"
        title="IF单分支结构" /></p>
<h5 id="特征-12">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">IF_BEGIN</span>
<span class="nf">jxx</span>  <span class="no">IF_END</span>
<span class="err">.</span>
<span class="err">.</span>                <span class="c">;中间为条件体
</span><span class="c"></span><span class="err">.</span>                <span class="c">;注意语句上面无跳转
</span><span class="c"></span><span class="nf">IF_END</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="双分支结构">双分支结构</h4>
<h5 id="代码外提">代码外提</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc &gt; 10</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc &lt;= 10</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/IF%e5%8f%8c%e5%88%86%e6%94%af%e7%bb%93%e6%9e%84%e4%bb%a3%e7%a0%81%e5%a4%96%e6%8f%90.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/IF%E5%8F%8C%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84%E4%BB%A3%E7%A0%81%E5%A4%96%E6%8F%90.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/IF%e5%8f%8c%e5%88%86%e6%94%af%e7%bb%93%e6%9e%84%e4%bb%a3%e7%a0%81%e5%a4%96%e6%8f%90.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/IF%E5%8F%8C%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84%E4%BB%A3%E7%A0%81%E5%A4%96%E6%8F%90.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/IF%E5%8F%8C%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84%E4%BB%A3%E7%A0%81%E5%A4%96%E6%8F%90.png"
        title="IF双分支结构代码外提" /></p>
<h6 id="特征-13">特征</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">IF_BEGIN</span>
<span class="nf">jxx</span>  <span class="no">ELSE_BEGIN</span>
<span class="na">...</span>
<span class="nf">IF_END</span>
    <span class="nf">jmp</span> <span class="no">ELSE_END</span>
<span class="nf">ELSE_BEGIN</span>
<span class="na">...</span>
<span class="nf">ELSE_END</span> 
</code></pre></td></tr></table>
</div>
</div><h5 id="代码内提">代码内提</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc &gt; 10</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc &lt;= 10</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/IF%e5%8f%8c%e5%88%86%e6%94%af%e7%bb%93%e6%9e%84%e4%bb%a3%e7%a0%81%e5%86%85%e6%8f%90.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/IF%E5%8F%8C%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84%E4%BB%A3%E7%A0%81%E5%86%85%E6%8F%90.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/IF%e5%8f%8c%e5%88%86%e6%94%af%e7%bb%93%e6%9e%84%e4%bb%a3%e7%a0%81%e5%86%85%e6%8f%90.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/IF%E5%8F%8C%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84%E4%BB%A3%E7%A0%81%E5%86%85%E6%8F%90.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/IF%E5%8F%8C%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84%E4%BB%A3%E7%A0%81%E5%86%85%E6%8F%90.png"
        title="IF双分支结构代码内提" /></p>
<h4 id="多分支结构">多分支结构</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc &gt; 10</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc &lt; 10</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 10</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/IF%e5%a4%9a%e5%88%86%e6%94%af%e7%bb%93%e6%9e%84.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/IF%E5%A4%9A%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/IF%e5%a4%9a%e5%88%86%e6%94%af%e7%bb%93%e6%9e%84.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/IF%E5%A4%9A%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/IF%E5%A4%9A%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84.png"
        title="IF多分支结构" /></p>
<h5 id="特征-14">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">IF_BEGIN</span>
<span class="nf">jxx</span>  <span class="no">ELSE_IF_BEGIN</span>
<span class="na">...</span>
<span class="nf">IF_END</span>
    <span class="nf">jmp</span> <span class="no">ELSE_END</span>
<span class="nf">ELSE_IF_BEGIN</span>
<span class="nf">jxx</span> <span class="no">ELSE_BEGIN</span>
<span class="na">...</span>
<span class="nf">ELSE_IF_END</span>
    <span class="nf">jmp</span> <span class="no">ELSE_END</span>
<span class="nf">ELSE_BEGIN</span>
<span class="na">...</span>
<span class="nf">ELSE_END</span>  
</code></pre></td></tr></table>
</div>
</div><h3 id="switchcase">SwitchCase</h3>
<h4 id="case语句3">Case语句&lt;=3</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="n">argc</span><span class="p">)</span>
  <span class="p">{</span>
  <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 0</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 1</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 2</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">default</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;default</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case1Debug.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case1Debug.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case1Debug.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case1Debug.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case1Debug.png"
        title="Case1Debug" /></p>
<h5 id="release">Release</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case1Release.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case1Release.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case1Release.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case1Release.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case1Release.png"
        title="Case1Release" /></p>
<h5 id="特征-15">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">一个个比较</span><span class="p">,</span><span class="err">中间无代码块</span>
<span class="err">这样的话</span><span class="p">,</span><span class="err">匹配跳转成功时</span><span class="p">,</span><span class="err">没有</span><span class="n">break语句会继续向下执行</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="case语句3且每两个case值之间的差值6">case语句&gt;3,且每两个Case值之间的差值&lt;=6</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="n">argc</span><span class="p">)</span>
  <span class="p">{</span>
  <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 0</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 1</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 2</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="mi">8</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 8</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">default</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;default</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-1">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case2Debug.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case2Debug.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case2Debug.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case2Debug.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case2Debug.png"
        title="Case2Debug" /></p>
<h5 id="release-1">Release</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case2Release.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case2Release.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case2Release.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case2Release.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case2Release.png"
        title="Case2Release" /></p>
<h5 id="特征-16">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">编译器会给所有</span><span class="n">case情况做一个表</span>
<span class="err">当提供的序号大于最大索引时</span><span class="p">,</span><span class="err">直接跳转到</span><span class="n">DEFAULT或SWITCH_END</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="case语句3最大case值-最小case值255">case语句&gt;3,最大case值-最小case值&lt;=255</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="n">argc</span><span class="p">)</span>
  <span class="p">{</span>
  <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 0</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="k">case</span> <span class="mi">46</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 46</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="mi">55</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 55</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="mi">77</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 77</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">default</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;default</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-2">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case3Debug.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case3Debug.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case3Debug.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case3Debug.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case3Debug.png"
        title="Case3Debug" /></p>
<h5 id="release-2">Release</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case3Release.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case3Release.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case3Release.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case3Release.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case3Release.png"
        title="Case3Release" /></p>
<h5 id="特征-17">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="err">编译器会生成两个表</span>
<span class="err">下标表</span><span class="o">:</span><span class="err">记录对应</span><span class="n">case地址表的下标</span>
<span class="nl">case地址表</span><span class="p">:</span><span class="err">记录</span><span class="n">case语句块的地址</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="还原-14">还原</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case3%e8%bf%98%e5%8e%9f.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case3%E8%BF%98%E5%8E%9F.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case3%e8%bf%98%e5%8e%9f.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case3%E8%BF%98%E5%8E%9F.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case3%E8%BF%98%E5%8E%9F.png"
        title="Case3还原" /></p>
<h4 id="case语句3最大case值-最小case值255-1">case语句&gt;3,最大case值-最小case值&gt;255</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="n">argc</span><span class="p">)</span>
  <span class="p">{</span>
  <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 0</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="k">case</span> <span class="mi">46</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 46</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="mi">555</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 555</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="mi">777</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 777</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="mi">888</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;argc == 888</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">default</span><span class="o">:</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;default</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-3">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case4Debug.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case4Debug.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case4Debug.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case4Debug.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case4Debug.png"
        title="Case4Debug" /></p>
<h5 id="release-3">Release</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case4Release.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case4Release.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/Case4Release.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case4Release.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/Case4Release.png"
        title="Case4Release" /></p>
<h5 id="特征-18">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">二分优化</span>
<span class="err">注意</span><span class="o">:</span><span class="err">会进行二分优化和前面三种混合优化</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="注意">注意</h4>
<p>break语句,对应的跳转一定是跳向SWITCH_END.</p>
<h3 id="循环语句">循环语句</h3>
<h4 id="dowhile">DoWhile</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">nSum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">do</span>
  <span class="p">{</span>
    <span class="n">nSum</span> <span class="o">+=</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">n</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">);</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">nSum</span><span class="p">);</span>
  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-4">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/DoWhileDebug.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/DoWhileDebug.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/DoWhileDebug.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/DoWhileDebug.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/DoWhileDebug.png"
        title="DoWhileDebug" /></p>
<h5 id="release-4">Release</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/DoWhileRelease.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/DoWhileRelease.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/DoWhileRelease.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/DoWhileRelease.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/DoWhileRelease.png"
        title="DoWhileRelease" /></p>
<h5 id="特征-19">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">Do_Begin</span>
  <span class="na">...</span>
  <span class="na">...</span>
  <span class="na">...</span>
  <span class="nf">jxx</span> <span class="no">Do_Begin</span>
<span class="nf">Do_End</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="while">While</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">nSum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">argc</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">nSum</span> <span class="o">+=</span> <span class="n">argc</span><span class="p">;</span>
    <span class="n">argc</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">nSum</span><span class="p">);</span>
  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-5">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/WhileDebug.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/WhileDebug.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/WhileDebug.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/WhileDebug.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/WhileDebug.png"
        title="WhileDebug" /></p>
<h6 id="特征-20">特征</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">While_Begin</span>
  <span class="nf">jxx</span> <span class="no">While_End</span>
  <span class="na">...</span>
  <span class="na">...</span>
  <span class="na">...</span>
  <span class="nf">jmp</span> <span class="no">While_Begin</span>
<span class="nf">While_End</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="release-5">Release</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/WhileRelease.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/WhileRelease.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/WhileRelease.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/WhileRelease.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/WhileRelease.png"
        title="WhileRelease" /></p>
<h6 id="特征-21">特征</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="err">这个地方</span><span class="n">While循环会被优化成DoWhile循环</span>
<span class="err">多了一个跳转提前进行判断</span>
<span class="err">注意</span><span class="o">:</span><span class="err">跳转的判定条件和循环的判定条件具有相关性时</span><span class="p">,</span><span class="err">才可还原为</span><span class="n">While循环</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="for">For</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">nSum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">nSum</span> <span class="o">+=</span> <span class="n">i</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">nSum</span><span class="p">);</span>
  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-6">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/ForDebug.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/ForDebug.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/ForDebug.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/ForDebug.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/ForDebug.png"
        title="ForDebug" /></p>
<h6 id="特征-22">特征</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">For_Init</span>
  <span class="na">...</span>
  <span class="nf">jmp</span> <span class="no">For_Cmp</span>
<span class="nf">For_Step</span>
  <span class="na">...</span>
<span class="nf">For_Cmp</span>
  <span class="nf">jxx</span> <span class="no">For_End</span>
<span class="nf">For_Body</span>
  <span class="na">...</span>
  <span class="na">...</span>
  <span class="nf">jmp</span> <span class="no">For_Step</span>
<span class="nf">For_End</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="release-6">Release</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/ForRelease.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/ForRelease.png, images/%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5/ForRelease.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/ForRelease.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/ForRelease.png"
        title="ForRelease" /></p>
<h6 id="特征-23">特征</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">被优化为DoWhile循环
</code></pre></td></tr></table>
</div>
</div><h4 id="注意-1">注意</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="c1">//Break语句
</span><span class="c1"></span><span class="err">循环语句中</span><span class="p">,</span><span class="err">跳转循环体</span><span class="p">,</span><span class="err">可识别为</span><span class="n">break语句</span>
<span class="c1">//Continue语句
</span><span class="c1"></span><span class="n">Release版</span><span class="p">,</span><span class="err">经常会将</span><span class="n">Continue语句优化为If_Else双分支结构</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="函数调用方式">函数调用方式</h2>
<h3 id="_cdecl">_cdecl</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">C\C++默认的调用方式
调用方平栈
参数:从右到左以此入栈
</code></pre></td></tr></table>
</div>
</div><h3 id="_stdcall">_stdcall</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">被调方平栈
参数:从右到左以此入栈
</code></pre></td></tr></table>
</div>
</div><h3 id="_fastcall">_fastcall</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">被调方平栈
参数:前两个参数由寄存器传递(VS编译器用edx, ecx),其余参数通过堆栈传递
</code></pre></td></tr></table>
</div>
</div><h2 id="变量相关">变量相关</h2>
<h3 id="全局变量">全局变量</h3>
<h4 id="特征-24">特征</h4>
<ul>
<li>所在地址为数据区,生命周期与所在模块一致.</li>
<li>使用立即数访问.</li>
</ul>
<h4 id="全局变量初始化">全局变量初始化</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">foo</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="mi">1234</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">g_nTest</span> <span class="o">=</span> <span class="n">foo</span><span class="p">();</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;g_nTest = %d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">g_nTest</span><span class="p">);</span>
  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="定位初始化位置">定位初始化位置</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%ae%9a%e4%bd%8d%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bd%8d%e7%bd%ae1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE1.png, images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%ae%9a%e4%bd%8d%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bd%8d%e7%bd%ae1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE1.png"
        title="定位初始化位置1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%ae%9a%e4%bd%8d%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bd%8d%e7%bd%ae2.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE2.png, images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%ae%9a%e4%bd%8d%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bd%8d%e7%bd%ae2.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE2.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE2.png"
        title="定位初始化位置2" /></p>
<p><strong>注意</strong>:高版本_cinit函数被内联了.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%ae%9a%e4%bd%8d%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bd%8d%e7%bd%ae3.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE3.png, images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%ae%9a%e4%bd%8d%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bd%8d%e7%bd%ae3.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE3.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE3.png"
        title="定位初始化位置3" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%ae%9a%e4%bd%8d%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bd%8d%e7%bd%ae4.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE4.png, images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%ae%9a%e4%bd%8d%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bd%8d%e7%bd%ae4.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE4.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE4.png"
        title="定位初始化位置4" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%ae%9a%e4%bd%8d%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bd%8d%e7%bd%ae5.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE5.png, images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%ae%9a%e4%bd%8d%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bd%8d%e7%bd%ae5.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE5.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE5.png"
        title="定位初始化位置5" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%ae%9a%e4%bd%8d%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bd%8d%e7%bd%ae6.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE6.png, images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%ae%9a%e4%bd%8d%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bd%8d%e7%bd%ae6.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE6.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE6.png"
        title="定位初始化位置6" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%ae%9a%e4%bd%8d%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bd%8d%e7%bd%ae7.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE7.png, images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%ae%9a%e4%bd%8d%e5%88%9d%e5%a7%8b%e5%8c%96%e4%bd%8d%e7%bd%ae7.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE7.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%AE%9A%E4%BD%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BD%8D%E7%BD%AE7.png"
        title="定位初始化位置7" /></p>
<h5 id="使用交叉引用">使用交叉引用</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e4%bd%bf%e7%94%a8%e4%ba%a4%e5%8f%89%e5%bc%95%e7%94%a81.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E4%BD%BF%E7%94%A8%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A81.png, images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e4%bd%bf%e7%94%a8%e4%ba%a4%e5%8f%89%e5%bc%95%e7%94%a81.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E4%BD%BF%E7%94%A8%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A81.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E4%BD%BF%E7%94%A8%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A81.png"
        title="使用交叉引用1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e4%bd%bf%e7%94%a8%e4%ba%a4%e5%8f%89%e5%bc%95%e7%94%a82.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E4%BD%BF%E7%94%A8%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A82.png, images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e4%bd%bf%e7%94%a8%e4%ba%a4%e5%8f%89%e5%bc%95%e7%94%a82.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E4%BD%BF%E7%94%A8%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A82.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E4%BD%BF%E7%94%A8%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A82.png"
        title="使用交叉引用2" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e4%bd%bf%e7%94%a8%e4%ba%a4%e5%8f%89%e5%bc%95%e7%94%a83.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E4%BD%BF%E7%94%A8%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A83.png, images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e4%bd%bf%e7%94%a8%e4%ba%a4%e5%8f%89%e5%bc%95%e7%94%a83.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E4%BD%BF%E7%94%A8%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A83.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E4%BD%BF%E7%94%A8%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A83.png"
        title="使用交叉引用3" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e4%bd%bf%e7%94%a8%e4%ba%a4%e5%8f%89%e5%bc%95%e7%94%a84.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E4%BD%BF%E7%94%A8%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A84.png, images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e4%bd%bf%e7%94%a8%e4%ba%a4%e5%8f%89%e5%bc%95%e7%94%a84.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E4%BD%BF%E7%94%A8%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A84.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E4%BD%BF%E7%94%A8%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A84.png"
        title="使用交叉引用4" /></p>
<h3 id="局部变量">局部变量</h3>
<h4 id="特征-25">特征</h4>
<ul>
<li>所在地址为栈区,生命周期与所在的函数作用域一致.</li>
<li>使用ebp或esp间接访问.</li>
</ul>
<h3 id="局部静态变量">局部静态变量</h3>
<p>C++语法规定局部静态变量只被初始化一次.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">static</span> <span class="kt">float</span> <span class="n">f</span> <span class="o">=</span> <span class="mf">3.14f</span> <span class="o">/</span> <span class="n">argc</span><span class="p">;</span>
  
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;f = %f</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">f</span><span class="p">);</span>
  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="vc60release版">VC6.0Release版</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%b1%80%e9%83%a8%e9%9d%99%e6%80%81%e5%8f%98%e9%87%8f1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%B1%80%E9%83%A8%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F1.png, images/%e5%8f%98%e9%87%8f%e7%9b%b8%e5%85%b3/%e5%b1%80%e9%83%a8%e9%9d%99%e6%80%81%e5%8f%98%e9%87%8f1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%B1%80%E9%83%A8%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3/%E5%B1%80%E9%83%A8%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F1.png"
        title="局部静态变量1" /></p>
<p>高版本(如VS2019)将这个标志位放到了Tls中.</p>
<h3 id="堆变量">堆变量</h3>
<p>在C\C++中,使用malloc与new实现堆空间的申请.</p>
<h2 id="x87浮点指令集">X87浮点指令集</h2>
<p>VC6.0 ~ VS2013.</p>
<h3 id="特征-26">特征</h3>
<ul>
<li>使用80位浮点协处理器处理浮点运算.</li>
<li>浮点协处理器内部为栈结构.</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/X87%e6%b5%ae%e7%82%b9%e6%8c%87%e4%bb%a4%e9%9b%86/X87%e6%b5%ae%e7%82%b9%e6%8c%87%e4%bb%a4%e9%9b%86%e7%89%b9%e5%be%81.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86%E7%89%B9%E5%BE%81.png, images/X87%e6%b5%ae%e7%82%b9%e6%8c%87%e4%bb%a4%e9%9b%86/X87%e6%b5%ae%e7%82%b9%e6%8c%87%e4%bb%a4%e9%9b%86%e7%89%b9%e5%be%81.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86%E7%89%B9%E5%BE%81.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86%E7%89%B9%E5%BE%81.png"
        title="X87浮点指令集特征" /></p>
<h3 id="运算过程">运算过程</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/X87%e6%b5%ae%e7%82%b9%e6%8c%87%e4%bb%a4%e9%9b%86/X87%e6%b5%ae%e7%82%b9%e6%8c%87%e4%bb%a4%e9%9b%86%e8%bf%90%e7%ae%97%e8%bf%87%e7%a8%8b.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86%E8%BF%90%E7%AE%97%E8%BF%87%E7%A8%8B.png, images/X87%e6%b5%ae%e7%82%b9%e6%8c%87%e4%bb%a4%e9%9b%86/X87%e6%b5%ae%e7%82%b9%e6%8c%87%e4%bb%a4%e9%9b%86%e8%bf%90%e7%ae%97%e8%bf%87%e7%a8%8b.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86%E8%BF%90%E7%AE%97%E8%BF%87%E7%A8%8B.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86%E8%BF%90%E7%AE%97%E8%BF%87%E7%A8%8B.png"
        title="X87浮点指令集运算过程" /></p>
<h3 id="指令">指令</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/X87%e6%b5%ae%e7%82%b9%e6%8c%87%e4%bb%a4%e9%9b%86/X87%e6%b5%ae%e7%82%b9%e6%8c%87%e4%bb%a4%e9%9b%86%e6%8c%87%e4%bb%a4.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86%E6%8C%87%E4%BB%A4.png, images/X87%e6%b5%ae%e7%82%b9%e6%8c%87%e4%bb%a4%e9%9b%86/X87%e6%b5%ae%e7%82%b9%e6%8c%87%e4%bb%a4%e9%9b%86%e6%8c%87%e4%bb%a4.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86%E6%8C%87%E4%BB%A4.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86/X87%E6%B5%AE%E7%82%B9%E6%8C%87%E4%BB%A4%E9%9B%86%E6%8C%87%E4%BB%A4.png"
        title="X87浮点指令集指令" /></p>
<h3 id="探测浮点标志位">探测浮点标志位</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="kt">float</span> <span class="n">f</span> <span class="o">=</span> <span class="mf">3.14f</span> <span class="o">/</span> <span class="n">argc</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">f</span> <span class="o">==</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">argc</span><span class="p">)</span>      <span class="c1">//ZF = 1
</span><span class="c1"></span>  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;f == (float)argc</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span>                       <span class="c1">//ZF = 0
</span><span class="c1"></span>  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;f != (float)argc</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">f</span> <span class="o">&gt;</span> <span class="mf">1.23f</span><span class="p">)</span>            <span class="c1">//SF = 0 and ZF = 0
</span><span class="c1"></span>  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;f &gt; 1.23f</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span>                        <span class="c1">//SF = 1 or ZF = 1
</span><span class="c1"></span>  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;f &lt;= 1.23f</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">f</span> <span class="o">&lt;</span> <span class="mf">1.23f</span><span class="p">)</span>            <span class="c1">//SF = 1
</span><span class="c1"></span>  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;f &lt; 1.23f</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;f &gt;= 1.23f</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="参考资料">参考资料</h3>
<p><a href="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/Intel%E5%A5%94%E8%85%BE%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5%E6%89%8B%E5%86%8C.doc" rel="">Intel奔腾指令速查手册.doc</a></p>
<h2 id="多媒体指令集">多媒体指令集</h2>
<h3 id="mmx">MMX</h3>
<h4 id="vs中使用mmx指令">VS中使用MMX指令</h4>
<p>包含头文件mmintrin.h</p>
<h4 id="特征-27">特征</h4>
<ul>
<li>有8个64位寄存器(MM0~MM7),借用的是FPU原来的8个80位寄存器(st(0)~st(7)),故使用MMX指令后,需要加上一条EMMS指令,用以复位.</li>
<li>不再使用栈结构.</li>
<li>寄存器在拆分做独立运算时有两种模式.</li>
<li>支持并行计算.</li>
</ul>
<h4 id="指令-1">指令</h4>
<p>详细查看AMD开发手册(卷5).</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%a4%9a%e5%aa%92%e4%bd%93%e6%8c%87%e4%bb%a4%e9%9b%86/MMX.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86/MMX.png, images/%e5%a4%9a%e5%aa%92%e4%bd%93%e6%8c%87%e4%bb%a4%e9%9b%86/MMX.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86/MMX.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86/MMX.png"
        title="MMX" /></p>
<h3 id="sse">SSE</h3>
<h4 id="vs中使用sse指令">VS中使用SSE指令</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="n">xmmintrin</span><span class="p">.</span><span class="n">h</span>   <span class="c1">//SSE
</span><span class="c1"></span><span class="n">emmintrin</span><span class="p">.</span><span class="n">h</span>   <span class="c1">//SSE2
</span><span class="c1"></span><span class="n">pmmintrin</span><span class="p">.</span><span class="n">h</span>   <span class="c1">//SSE3
</span><span class="c1"></span><span class="n">smmintrin</span><span class="p">.</span><span class="n">h</span>   <span class="c1">//SSE4
</span></code></pre></td></tr></table>
</div>
</div><h4 id="特征-28">特征</h4>
<ul>
<li>有8个128位独立寄存器(XMM0~XMM7).</li>
<li>支持并行计算.</li>
</ul>
<h4 id="指令-2">指令</h4>
<p>详情查看AMD开发手册(卷4).</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%a4%9a%e5%aa%92%e4%bd%93%e6%8c%87%e4%bb%a4%e9%9b%86/SSE1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86/SSE1.png, images/%e5%a4%9a%e5%aa%92%e4%bd%93%e6%8c%87%e4%bb%a4%e9%9b%86/SSE1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86/SSE1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86/SSE1.png"
        title="SSE1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%a4%9a%e5%aa%92%e4%bd%93%e6%8c%87%e4%bb%a4%e9%9b%86/SSE2.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86/SSE2.png, images/%e5%a4%9a%e5%aa%92%e4%bd%93%e6%8c%87%e4%bb%a4%e9%9b%86/SSE2.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86/SSE2.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86/SSE2.png"
        title="SSE2" /></p>
<h4 id="注意-2">注意</h4>
<p>movaps指令,要求内存地址为模16.</p>
<h3 id="avx">AVX</h3>
<h4 id="vs中使用avx指令">VS中使用AVX指令</h4>
<p>包头文件immintrin.h</p>
<h4 id="特征-29">特征</h4>
<ul>
<li>扩展之前的8个128位寄存器为8个256位寄存器(YMM0~YMM7).</li>
<li>支持并行计算.</li>
</ul>
<h4 id="指令-3">指令</h4>
<p>相对于SSE指令语法,前缀加v即可.</p>
<h3 id="vs中设置多媒体指令集">VS中设置多媒体指令集</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%a4%9a%e5%aa%92%e4%bd%93%e6%8c%87%e4%bb%a4%e9%9b%86/VS%e4%b8%ad%e8%ae%be%e7%bd%ae%e5%a4%9a%e5%aa%92%e4%bd%93%e6%8c%87%e4%bb%a4%e9%9b%86.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86/VS%E4%B8%AD%E8%AE%BE%E7%BD%AE%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86.png, images/%e5%a4%9a%e5%aa%92%e4%bd%93%e6%8c%87%e4%bb%a4%e9%9b%86/VS%e4%b8%ad%e8%ae%be%e7%bd%ae%e5%a4%9a%e5%aa%92%e4%bd%93%e6%8c%87%e4%bb%a4%e9%9b%86.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86/VS%E4%B8%AD%E8%AE%BE%E7%BD%AE%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86/VS%E4%B8%AD%E8%AE%BE%E7%BD%AE%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8C%87%E4%BB%A4%E9%9B%86.png"
        title="VS中设置多媒体指令集" /></p>
<h2 id="数组">数组</h2>
<h3 id="特性">特性</h3>
<p><strong>连续性</strong>:数组内元素连续排列,且互相不会覆盖.</p>
<p><strong>一致性</strong>:具备同类业务功能,即类型和业务功能一样.
注意:身高,体重,年龄都是int类型,但数据功能代表的不一样,这种不属于数组,属于结构体</p>
<h3 id="体现数组特性">体现数组特性</h3>
<ul>
<li>变量下标访问.</li>
<li>循环访问元素.</li>
</ul>
<h3 id="一维数组">一维数组</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">ary</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">};</span>

  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">ary</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
  <span class="p">}</span>
  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="debug-7">Debug</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%95%b0%e7%bb%84/%e4%b8%80%e7%bb%b4%e6%95%b0%e7%bb%841.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%841.png, images/%e6%95%b0%e7%bb%84/%e4%b8%80%e7%bb%b4%e6%95%b0%e7%bb%841.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%841.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%841.png"
        title="一维数组1" /></p>
<h4 id="release-7">Release</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%95%b0%e7%bb%84/%e4%b8%80%e7%bb%b4%e6%95%b0%e7%bb%842.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%842.png, images/%e6%95%b0%e7%bb%84/%e4%b8%80%e7%bb%b4%e6%95%b0%e7%bb%842.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%842.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%842.png"
        title="一维数组2" /></p>
<h4 id="高版本vs2015release">高版本(VS2015)Release</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%95%b0%e7%bb%84/%e4%b8%80%e7%bb%b4%e6%95%b0%e7%bb%843.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%843.png, images/%e6%95%b0%e7%bb%84/%e4%b8%80%e7%bb%b4%e6%95%b0%e7%bb%843.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%843.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%843.png"
        title="一维数组3" /></p>
<h4 id="数组寻址公式">数组寻址公式</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">假设数组为</span><span class="n">ary</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
<span class="n">ary</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="err">寻址</span><span class="o">:</span>
<span class="err">数组首地址</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">type</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="二维数组">二维数组</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">ary</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span> <span class="p">},</span>
    <span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span> <span class="p">},</span>
    <span class="p">{</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">500</span> <span class="p">}</span>
  <span class="p">};</span>

  <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">scanf</span><span class="p">(</span><span class="s">&#34;%d%d&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">ary</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]);</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="debug-8">Debug</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%95%b0%e7%bb%84/%e4%ba%8c%e7%bb%b4%e6%95%b0%e7%bb%841.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%841.png, images/%e6%95%b0%e7%bb%84/%e4%ba%8c%e7%bb%b4%e6%95%b0%e7%bb%841.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%841.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%841.png"
        title="二维数组1" /></p>
<h4 id="release-8">Release</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%95%b0%e7%bb%84/%e4%ba%8c%e7%bb%b4%e6%95%b0%e7%bb%842.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%842.png, images/%e6%95%b0%e7%bb%84/%e4%ba%8c%e7%bb%b4%e6%95%b0%e7%bb%842.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%842.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%842.png"
        title="二维数组2" /></p>
<h4 id="数组寻址公式-1">数组寻址公式</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">假设数组为</span><span class="n">ary</span><span class="p">[</span><span class="n">M</span><span class="p">][</span><span class="n">N</span><span class="p">]</span>
<span class="n">ary</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span><span class="err">寻址</span>
<span class="nl">Debug版</span><span class="p">:</span><span class="n">ary</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">type</span><span class="p">[</span><span class="n">N</span><span class="p">])</span> <span class="o">+</span> <span class="n">y</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">type</span><span class="p">)</span>
<span class="nl">Release版</span><span class="p">:</span><span class="n">ary</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">N</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">type</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="三维数组">三维数组</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">ary</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">{</span>
      <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span> <span class="p">},</span>
      <span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span> <span class="p">},</span>
      <span class="p">{</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">500</span> <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span> <span class="p">},</span>
      <span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span> <span class="p">},</span>
      <span class="p">{</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">500</span> <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">z</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">scanf</span><span class="p">(</span><span class="s">&#34;%d%d%d&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">z</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">ary</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">][</span><span class="n">z</span><span class="p">]);</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="debug-9">Debug</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%95%b0%e7%bb%84/%e4%b8%89%e7%bb%b4%e6%95%b0%e7%bb%841.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%89%E7%BB%B4%E6%95%B0%E7%BB%841.png, images/%e6%95%b0%e7%bb%84/%e4%b8%89%e7%bb%b4%e6%95%b0%e7%bb%841.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%89%E7%BB%B4%E6%95%B0%E7%BB%841.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%89%E7%BB%B4%E6%95%B0%E7%BB%841.png"
        title="三维数组1" /></p>
<h4 id="release-9">Release</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e6%95%b0%e7%bb%84/%e4%b8%89%e7%bb%b4%e6%95%b0%e7%bb%842.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%89%E7%BB%B4%E6%95%B0%E7%BB%842.png, images/%e6%95%b0%e7%bb%84/%e4%b8%89%e7%bb%b4%e6%95%b0%e7%bb%842.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%89%E7%BB%B4%E6%95%B0%E7%BB%842.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E6%95%B0%E7%BB%84/%E4%B8%89%E7%BB%B4%E6%95%B0%E7%BB%842.png"
        title="三维数组2" /></p>
<h4 id="数组寻址公式-2">数组寻址公式</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">假设数组为</span><span class="n">ary</span><span class="p">[</span><span class="n">M</span><span class="p">][</span><span class="n">N</span><span class="p">][</span><span class="n">K</span><span class="p">]</span>
<span class="n">ar</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">][</span><span class="n">z</span><span class="p">]</span><span class="err">寻址</span>
<span class="nl">Debug版</span><span class="p">:</span><span class="n">ary</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">type</span><span class="p">[</span><span class="n">N</span><span class="p">][</span><span class="n">K</span><span class="p">])</span> <span class="o">+</span> <span class="n">y</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">type</span><span class="p">[</span><span class="n">K</span><span class="p">])</span> <span class="o">+</span> <span class="n">z</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">type</span><span class="p">)</span>
<span class="nl">Release版</span><span class="p">:</span><span class="n">ary</span> <span class="o">+</span> <span class="p">((</span><span class="n">x</span> <span class="o">*</span> <span class="n">N</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="n">K</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">type</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="结构体">结构体</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="k">struct</span> <span class="nc">tagTest</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="n">szName</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>  <span class="c1">// + 0
</span><span class="c1"></span>  <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>           <span class="c1">// + 8
</span><span class="c1"></span>  <span class="kt">double</span> <span class="n">dbl</span><span class="p">;</span>      <span class="c1">// + 16
</span><span class="c1"></span>  <span class="kt">short</span> <span class="kt">int</span> <span class="n">w</span><span class="p">;</span>     <span class="c1">// + 24
</span><span class="c1"></span>  <span class="kt">float</span> <span class="n">f</span><span class="p">;</span>         <span class="c1">// + 28
</span><span class="c1"></span><span class="p">};</span>  <span class="c1">// sizeof 32
</span></code></pre></td></tr></table>
</div>
</div><h3 id="指针访问结构体成员">指针访问结构体成员</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">tagTest</span> <span class="n">t</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#34;Luo&#34;</span><span class="p">,</span>
    <span class="mi">1234</span><span class="p">,</span>
    <span class="mf">3.14</span><span class="p">,</span>
    <span class="mi">12</span><span class="p">,</span>
    <span class="mf">0.618f</span>
  <span class="p">};</span>

  <span class="n">tagTest</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">t</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">n</span><span class="p">);</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="debug-10">Debug</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e7%bb%93%e6%9e%84%e4%bd%93/%e6%8c%87%e9%92%88%e8%ae%bf%e9%97%ae%e7%bb%93%e6%9e%84%e4%bd%93%e6%88%90%e5%91%98.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E6%8C%87%E9%92%88%E8%AE%BF%E9%97%AE%E7%BB%93%E6%9E%84%E4%BD%93%E6%88%90%E5%91%98.png, images/%e7%bb%93%e6%9e%84%e4%bd%93/%e6%8c%87%e9%92%88%e8%ae%bf%e9%97%ae%e7%bb%93%e6%9e%84%e4%bd%93%e6%88%90%e5%91%98.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E6%8C%87%E9%92%88%E8%AE%BF%E9%97%AE%E7%BB%93%E6%9E%84%E4%BD%93%E6%88%90%E5%91%98.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E6%8C%87%E9%92%88%E8%AE%BF%E9%97%AE%E7%BB%93%E6%9E%84%E4%BD%93%E6%88%90%E5%91%98.png"
        title="指针访问结构体成员" /></p>
<h4 id="特征-30">特征</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">会出现寄存器相对间接寻址</span>
<span class="err">出现这种情形</span><span class="p">,</span><span class="err">只能是数组常量下标访问或结构成员访问</span>
<span class="err">识别的关键在于论证其中的元素是否具备存储连续性</span><span class="p">,</span><span class="err">以及作用是否一致</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="参数为结构体变量">参数为结构体变量</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">void</span> <span class="nf">foo</span><span class="p">(</span><span class="k">struct</span> <span class="nc">tagTest</span> <span class="n">t</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">t</span><span class="p">.</span><span class="n">n</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">tagTest</span> <span class="n">t</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#34;Luo&#34;</span><span class="p">,</span>
    <span class="mi">1234</span><span class="p">,</span>
    <span class="mf">3.14</span><span class="p">,</span>
    <span class="mi">12</span><span class="p">,</span>
    <span class="mf">0.618f</span>
  <span class="p">};</span>

  <span class="n">foo</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="debug-11">Debug</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e7%bb%93%e6%9e%84%e4%bd%93/%e5%8f%82%e6%95%b0%e4%b8%ba%e7%bb%93%e6%9e%84%e4%bd%93%e5%8f%98%e9%87%8f.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%8F%82%E6%95%B0%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F.png, images/%e7%bb%93%e6%9e%84%e4%bd%93/%e5%8f%82%e6%95%b0%e4%b8%ba%e7%bb%93%e6%9e%84%e4%bd%93%e5%8f%98%e9%87%8f.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%8F%82%E6%95%B0%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%8F%82%E6%95%B0%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F.png"
        title="参数为结构体变量" /></p>
<h4 id="高版本vs2019">高版本(VS2019)</h4>
<p>会使用多媒体指令集完成,如果结构体足够大,就会使用内联memcpy分方式拷贝到栈上.</p>
<h4 id="特征-31">特征</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="err">会将结构体内容拷贝到栈上</span>
<span class="err">关键语句:</span><span class="nf">mov</span> <span class="no">edi</span><span class="p">,</span> <span class="no">esp</span>
<span class="err">其实相当于一个内联的</span><span class="nf">memcpy</span><span class="p">(</span><span class="no">esp</span><span class="p">,</span> <span class="no">addr</span><span class="p">,</span> <span class="no">size</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="参数为结构体指针">参数为结构体指针</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">void</span> <span class="nf">foo</span><span class="p">(</span><span class="k">struct</span> <span class="nc">tagTest</span><span class="o">*</span> <span class="n">pt</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">pt</span><span class="o">-&gt;</span><span class="n">n</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">tagTest</span> <span class="n">t</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#34;Luo&#34;</span><span class="p">,</span>
    <span class="mi">1234</span><span class="p">,</span>
    <span class="mf">3.14</span><span class="p">,</span>
    <span class="mi">12</span><span class="p">,</span>
    <span class="mf">0.618f</span>
  <span class="p">};</span>

  <span class="n">foo</span><span class="p">(</span><span class="o">&amp;</span><span class="n">t</span><span class="p">);</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="debug-12">Debug</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e7%bb%93%e6%9e%84%e4%bd%93/%e5%8f%82%e6%95%b0%e4%b8%ba%e7%bb%93%e6%9e%84%e4%bd%93%e6%8c%87%e9%92%881.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%8F%82%E6%95%B0%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%881.png, images/%e7%bb%93%e6%9e%84%e4%bd%93/%e5%8f%82%e6%95%b0%e4%b8%ba%e7%bb%93%e6%9e%84%e4%bd%93%e6%8c%87%e9%92%881.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%8F%82%E6%95%B0%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%881.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%8F%82%E6%95%B0%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%881.png"
        title="参数为结构体指针1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e7%bb%93%e6%9e%84%e4%bd%93/%e5%8f%82%e6%95%b0%e4%b8%ba%e7%bb%93%e6%9e%84%e4%bd%93%e6%8c%87%e9%92%882.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%8F%82%E6%95%B0%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%882.png, images/%e7%bb%93%e6%9e%84%e4%bd%93/%e5%8f%82%e6%95%b0%e4%b8%ba%e7%bb%93%e6%9e%84%e4%bd%93%e6%8c%87%e9%92%882.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%8F%82%E6%95%B0%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%882.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%8F%82%E6%95%B0%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%882.png"
        title="参数为结构体指针2" /></p>
<h4 id="特征-32">特征</h4>
<p>访问的时候,会出现寄存器相对间接寻址.</p>
<h3 id="函数返回值为结构体">函数返回值为结构体</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="n">tagTest</span> <span class="nf">foo</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">tagTest</span> <span class="n">t</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#34;Luo&#34;</span><span class="p">,</span>
    <span class="mi">1234</span><span class="p">,</span>
    <span class="mf">3.14</span><span class="p">,</span>
    <span class="mi">12</span><span class="p">,</span>
    <span class="mf">0.618f</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="n">t</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">tagTest</span> <span class="n">t2</span> <span class="o">=</span> <span class="n">foo</span><span class="p">();</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="debug-13">Debug</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e7%bb%93%e6%9e%84%e4%bd%93/%e5%87%bd%e6%95%b0%e8%bf%94%e5%9b%9e%e5%80%bc%e4%b8%ba%e7%bb%93%e6%9e%84%e4%bd%931.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%931.png, images/%e7%bb%93%e6%9e%84%e4%bd%93/%e5%87%bd%e6%95%b0%e8%bf%94%e5%9b%9e%e5%80%bc%e4%b8%ba%e7%bb%93%e6%9e%84%e4%bd%931.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%931.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%931.png"
        title="函数返回值为结构体1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e7%bb%93%e6%9e%84%e4%bd%93/%e5%87%bd%e6%95%b0%e8%bf%94%e5%9b%9e%e5%80%bc%e4%b8%ba%e7%bb%93%e6%9e%84%e4%bd%932.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%932.png, images/%e7%bb%93%e6%9e%84%e4%bd%93/%e5%87%bd%e6%95%b0%e8%bf%94%e5%9b%9e%e5%80%bc%e4%b8%ba%e7%bb%93%e6%9e%84%e4%bd%932.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%932.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%932.png"
        title="函数返回值为结构体2" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e7%bb%93%e6%9e%84%e4%bd%93/%e5%87%bd%e6%95%b0%e8%bf%94%e5%9b%9e%e5%80%bc%e4%b8%ba%e7%bb%93%e6%9e%84%e4%bd%933.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%933.png, images/%e7%bb%93%e6%9e%84%e4%bd%93/%e5%87%bd%e6%95%b0%e8%bf%94%e5%9b%9e%e5%80%bc%e4%b8%ba%e7%bb%93%e6%9e%84%e4%bd%933.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%933.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E7%BB%93%E6%9E%84%E4%BD%93/%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%BA%E7%BB%93%E6%9E%84%E4%BD%933.png"
        title="函数返回值为结构体3" /></p>
<p>返回值给临时变量,因为我们有可能会访问返回值,如foo().n</p>
<h4 id="特征-33">特征</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">多一个参数返回结构体地址</span>
<span class="err">函数退出时</span><span class="p">,</span><span class="err">以参数为目标做</span><span class="n">memcpy复制结构体内容</span>
<span class="err">函数的返回值为参数</span><span class="mi">1</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="还原-15">还原</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">我们按照汇编代码还原</span><span class="p">,</span><span class="err">可还原成以下结构</span>
<span class="n">tagTest</span><span class="o">*</span> <span class="n">GetObj</span><span class="p">(</span><span class="n">tagTest</span><span class="o">*</span> <span class="n">p</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">...</span>
    <span class="p">...</span>
    <span class="p">...</span>
    <span class="n">memcpy</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">xxx</span><span class="p">,</span> <span class="n">xxx</span><span class="p">);</span>
  <span class="k">return</span> <span class="n">p</span><span class="p">;</span>
<span class="p">}</span>
<span class="err">此时等价于</span>
<span class="n">tagTest</span> <span class="nf">GetObj</span><span class="p">();</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="c之变量相关">C++之变量相关</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">CLuoTest</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">CLuoTest</span><span class="p">();</span>
  <span class="o">~</span><span class="n">CLuoTest</span><span class="p">();</span>
  <span class="kt">int</span> <span class="nf">IAdd</span><span class="p">();</span>
  <span class="kt">void</span> <span class="nf">SetVal</span><span class="p">(</span><span class="kt">int</span> <span class="n">nVal1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nVal2</span><span class="p">);</span>

<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">m_nVal1</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">m_nVal2</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">CLuoTest</span><span class="o">::</span><span class="n">CLuoTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">m_nVal1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="n">m_nVal2</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">CLuoTest</span><span class="o">::~</span><span class="n">CLuoTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoTest::~CLuoTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">CLuoTest</span><span class="o">::</span><span class="n">IAdd</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="n">m_nVal1</span> <span class="o">+</span> <span class="n">m_nVal2</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">CLuoTest</span><span class="o">::</span><span class="n">SetVal</span><span class="p">(</span><span class="kt">int</span> <span class="n">nVal1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nVal2</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">m_nVal1</span> <span class="o">=</span> <span class="n">nVal1</span><span class="p">;</span>
  <span class="n">m_nVal2</span> <span class="o">=</span> <span class="n">nVal2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="类对象为局部变量">类对象为局部变量</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoTest</span> <span class="n">LuoTest</span><span class="p">;</span>
  <span class="n">LuoTest</span><span class="p">.</span><span class="n">SetVal</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
  <span class="kt">int</span> <span class="n">nSum</span> <span class="o">=</span> <span class="n">LuoTest</span><span class="p">.</span><span class="n">IAdd</span><span class="p">();</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">nSum</span><span class="p">);</span>
  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="识别成员函数">识别成员函数</h4>
<h5 id="release-10">Release</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%b1%80%e9%83%a8%e5%8f%98%e9%87%8f1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F1.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%b1%80%e9%83%a8%e5%8f%98%e9%87%8f1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F1.png"
        title="类对象为局部变量1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%b1%80%e9%83%a8%e5%8f%98%e9%87%8f2.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F2.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%b1%80%e9%83%a8%e5%8f%98%e9%87%8f2.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F2.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F2.png"
        title="类对象为局部变量2" /></p>
<h5 id="特征-34">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">①第一参数为</span><span class="n">this指针</span><span class="p">,</span><span class="err">默认使用</span><span class="n">ecx传参</span><span class="p">.</span>
<span class="err">②函数内对第一参数</span><span class="n">this指针做间接访问</span><span class="p">.</span>
<span class="err">注意</span><span class="o">:</span><span class="err">如果成员函数为</span><span class="n">_cdecl或_stdcall调用约定</span><span class="p">,</span><span class="n">this指针通过栈传送且为第一参数</span><span class="p">.</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="识别构造函数">识别构造函数</h4>
<h5 id="release-11">Release</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e8%af%86%e5%88%ab%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b01.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E8%AF%86%E5%88%AB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B01.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e8%af%86%e5%88%ab%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b01.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E8%AF%86%E5%88%AB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B01.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E8%AF%86%E5%88%AB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B01.png"
        title="识别构造函数1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e8%af%86%e5%88%ab%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b02.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E8%AF%86%E5%88%AB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B02.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e8%af%86%e5%88%ab%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b02.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E8%AF%86%E5%88%AB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B02.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E8%AF%86%E5%88%AB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B02.png"
        title="识别构造函数2" /></p>
<h5 id="特征-35">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">必要条件</span><span class="o">:</span>
<span class="err">①必为</span><span class="n">thiscall调用约定</span><span class="p">.</span>
<span class="err">②构造函数是该对象进入作用域后的第一次成员函数调用</span><span class="p">.</span>
<span class="err">③返回</span><span class="n">this指针</span><span class="p">.</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="识别析构函数">识别析构函数</h4>
<h5 id="release-12">Release</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e8%af%86%e5%88%ab%e6%9e%90%e6%9e%84%e5%87%bd%e6%95%b01.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E8%AF%86%E5%88%AB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B01.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e8%af%86%e5%88%ab%e6%9e%90%e6%9e%84%e5%87%bd%e6%95%b01.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E8%AF%86%E5%88%AB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B01.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E8%AF%86%E5%88%AB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B01.png"
        title="识别析构函数1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e8%af%86%e5%88%ab%e6%9e%90%e6%9e%84%e5%87%bd%e6%95%b02.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E8%AF%86%E5%88%AB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B02.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e8%af%86%e5%88%ab%e6%9e%90%e6%9e%84%e5%87%bd%e6%95%b02.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E8%AF%86%E5%88%AB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B02.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E8%AF%86%E5%88%AB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B02.png"
        title="识别析构函数2" /></p>
<h5 id="特征-36">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">必要条件</span><span class="o">:</span>
<span class="err">①必为</span><span class="n">thiscall调用约定</span><span class="p">.</span>
<span class="err">②析构函数是该对象进入作用域后的最后一次成员函数调用</span><span class="p">.</span>
<span class="err">③无返回值定义</span><span class="p">.</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="类对象为全局变量">类对象为全局变量</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="n">CLuoTest</span> <span class="n">g_LuoTest</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">g_LuoTest</span><span class="p">.</span><span class="n">SetVal</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
  <span class="kt">int</span> <span class="n">nSum</span> <span class="o">=</span> <span class="n">g_LuoTest</span><span class="p">.</span><span class="n">IAdd</span><span class="p">();</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">nSum</span><span class="p">);</span>
  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="构造函数和析构函数">构造函数和析构函数</h4>
<p>在__cinit函数的第二个__initterm函数中调用.</p>
<h5 id="release-13">Release</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fRelease1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease1.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fRelease1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease1.png"
        title="类对象为全局变量Release1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fRelease2.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease2.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fRelease2.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease2.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease2.png"
        title="类对象为全局变量Release2" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fRelease3.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease3.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fRelease3.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease3.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease3.png"
        title="类对象为全局变量Release3" /></p>
<p>Main函数执行完,会执行atexit注册的函数.</p>
<h6 id="构造函数">构造函数</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fRelease4.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease4.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fRelease4.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease4.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease4.png"
        title="类对象为全局变量Release4" /></p>
<h6 id="析构函数">析构函数</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fRelease5.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease5.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fRelease5.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease5.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease5.png"
        title="类对象为全局变量Release5" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fRelease6.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease6.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fRelease6.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease6.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FRelease6.png"
        title="类对象为全局变量Release6" /></p>
<h5 id="debug-14">Debug</h5>
<p>在__initterm的函数指针调用.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fDebug1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug1.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fDebug1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug1.png"
        title="类对象为全局变量Debug1" /></p>
<h6 id="构造函数-1">构造函数</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fDebug2.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug2.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fDebug2.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug2.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug2.png"
        title="类对象为全局变量Debug2" /></p>
<h6 id="析构函数-1">析构函数</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fDebug3.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug3.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fDebug3.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug3.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug3.png"
        title="类对象为全局变量Debug3" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fDebug4.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug4.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fDebug4.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug4.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug4.png"
        title="类对象为全局变量Debug4" /></p>
<h6 id="总结">总结</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fDebug5.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug5.png, images/C&#43;&#43;%e9%80%86%e5%90%911/%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%b8%ba%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8fDebug5.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug5.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8FDebug5.png"
        title="类对象为全局变量Debug5" /></p>
<h3 id="类对象为堆变量">类对象为堆变量</h3>
<h4 id="new单个对象">New单个对象</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoTest</span><span class="o">*</span> <span class="n">pLuoTest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CLuoTest</span><span class="p">;</span>

  <span class="n">pLuoTest</span><span class="o">-&gt;</span><span class="n">SetVal</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
  <span class="kt">int</span> <span class="n">nSum</span> <span class="o">=</span> <span class="n">pLuoTest</span><span class="o">-&gt;</span><span class="n">IAdd</span><span class="p">();</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">nSum</span><span class="p">);</span>

  <span class="k">delete</span> <span class="n">pLuoTest</span><span class="p">;</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="release-14">Release</h5>
<h6 id="new">new</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%8d%95%e4%b8%aa%e5%af%b9%e8%b1%a11.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A11.png, images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%8d%95%e4%b8%aa%e5%af%b9%e8%b1%a11.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A11.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A11.png"
        title="New单个对象1" /></p>
<h6 id="delete">delete</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%8d%95%e4%b8%aa%e5%af%b9%e8%b1%a12.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A12.png, images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%8d%95%e4%b8%aa%e5%af%b9%e8%b1%a12.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A12.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A12.png"
        title="New单个对象2" /></p>
<h6 id="注意-3">注意</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="n">new和delete函数会自动检查指针是否为空</span><span class="p">.</span>
<span class="err">但我们仍然需要自己检查指针是否为空</span><span class="p">.</span>
<span class="err">因为编译器做的检查</span><span class="p">,</span><span class="err">是为了是否执行构造函数或析构函数</span><span class="p">.</span>
<span class="err">而我们做的检查</span><span class="p">,</span><span class="err">是为了让我们在别的地方使用这个指针的时候</span><span class="p">,</span><span class="err">指针不为空</span><span class="p">.</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-15">Debug</h5>
<h6 id="new-1">new</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%8d%95%e4%b8%aa%e5%af%b9%e8%b1%a1Debug1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1Debug1.png, images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%8d%95%e4%b8%aa%e5%af%b9%e8%b1%a1Debug1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1Debug1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1Debug1.png"
        title="New单个对象Debug1" /></p>
<h6 id="delete-1">delete</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%8d%95%e4%b8%aa%e5%af%b9%e8%b1%a1Debug2.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1Debug2.png, images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%8d%95%e4%b8%aa%e5%af%b9%e8%b1%a1Debug2.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1Debug2.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1Debug2.png"
        title="New单个对象Debug2" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%8d%95%e4%b8%aa%e5%af%b9%e8%b1%a1Debug3.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1Debug3.png, images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%8d%95%e4%b8%aa%e5%af%b9%e8%b1%a1Debug3.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1Debug3.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1Debug3.png"
        title="New单个对象Debug3" /></p>
<p>之所以会出现上述代码,是因为我们有可能写出如下代码.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoTest</span><span class="o">*</span> <span class="n">pLuoTest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CLuoTest</span><span class="p">;</span>

  <span class="n">pLuoTest</span><span class="o">-&gt;</span><span class="n">SetVal</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
  <span class="kt">int</span> <span class="n">nSum</span> <span class="o">=</span> <span class="n">pLuoTest</span><span class="o">-&gt;</span><span class="n">IAdd</span><span class="p">();</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">nSum</span><span class="p">);</span>
  <span class="n">pLuoTest</span><span class="o">-&gt;~</span><span class="n">CLuoTest</span><span class="p">();</span>  <span class="c1">//人工调析构,反复利用同一个空间
</span><span class="c1"></span>
  <span class="n">pLuoTest</span><span class="o">-&gt;</span><span class="n">CLuoTest</span><span class="o">::</span><span class="n">CLuoTest</span><span class="p">();</span>
  <span class="n">pLuoTest</span><span class="o">-&gt;</span><span class="n">SetVal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
  <span class="n">nSum</span> <span class="o">=</span> <span class="n">pLuoTest</span><span class="o">-&gt;</span><span class="n">IAdd</span><span class="p">();</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">nSum</span><span class="p">);</span>

  <span class="k">delete</span> <span class="n">pLuoTest</span><span class="p">;</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%8d%95%e4%b8%aa%e5%af%b9%e8%b1%a1Debug4.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1Debug4.png, images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%8d%95%e4%b8%aa%e5%af%b9%e8%b1%a1Debug4.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1Debug4.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1Debug4.png"
        title="New单个对象Debug4" /></p>
<p>此时push的参数就会是0,只执行析构函数,不释放空间.</p>
<h4 id="new对象数组">New对象数组</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoTest</span><span class="o">*</span> <span class="n">pLuoTest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CLuoTest</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>

  <span class="n">pLuoTest</span><span class="o">-&gt;</span><span class="n">SetVal</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
  <span class="kt">int</span> <span class="n">nSum</span> <span class="o">=</span> <span class="n">pLuoTest</span><span class="o">-&gt;</span><span class="n">IAdd</span><span class="p">();</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">nSum</span><span class="p">);</span>

  <span class="k">delete</span><span class="p">[]</span> <span class="n">pLuoTest</span><span class="p">;</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-16">Debug</h5>
<h6 id="new-2">new</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%af%b9%e8%b1%a1%e6%95%b0%e7%bb%841.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%841.png, images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%af%b9%e8%b1%a1%e6%95%b0%e7%bb%841.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%841.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%841.png"
        title="New对象数组1" /></p>
<p>这个地方需要析构函数是因为,遇到new失败时,虽然前面的new成功,,但也算整个new对象数组的失败,需要把前面成功new的对象析构掉.</p>
<h6 id="detete">detete[]</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%af%b9%e8%b1%a1%e6%95%b0%e7%bb%842.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%842.png, images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%af%b9%e8%b1%a1%e6%95%b0%e7%bb%842.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%842.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%842.png"
        title="New对象数组2" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%af%b9%e8%b1%a1%e6%95%b0%e7%bb%843.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%843.png, images/C&#43;&#43;%e9%80%86%e5%90%911/New%e5%af%b9%e8%b1%a1%e6%95%b0%e7%bb%843.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%843.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%911/New%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%843.png"
        title="New对象数组3" /></p>
<h2 id="c之对象相关">C++之对象相关</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">CLuoTest</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">CLuoTest</span><span class="p">();</span>
  <span class="o">~</span><span class="n">CLuoTest</span><span class="p">();</span>
  <span class="kt">void</span> <span class="nf">Show</span><span class="p">();</span>
  <span class="kt">void</span> <span class="nf">SetVal</span><span class="p">(</span><span class="kt">int</span> <span class="n">nVal1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nVal2</span><span class="p">);</span>

<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">m_nVal1</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">m_nVal2</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">m_szName</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
<span class="p">};</span>

<span class="n">CLuoTest</span><span class="o">::</span><span class="n">CLuoTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">m_nVal1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="n">m_nVal2</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
  <span class="n">strcpy</span><span class="p">(</span><span class="n">m_szName</span><span class="p">,</span> <span class="s">&#34;Luo&#34;</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoTest::CLuoTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">};</span>

<span class="n">CLuoTest</span><span class="o">::~</span><span class="n">CLuoTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoTest::~CLuoTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">CLuoTest</span><span class="o">::</span><span class="n">Show</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;%d, %d, %s</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">m_nVal1</span><span class="p">,</span> <span class="n">m_nVal2</span><span class="p">,</span> <span class="n">m_szName</span><span class="p">);</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">CLuoTest</span><span class="o">::</span><span class="n">SetVal</span><span class="p">(</span><span class="kt">int</span> <span class="n">nVal1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nVal2</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">m_nVal1</span> <span class="o">=</span> <span class="n">nVal1</span><span class="p">;</span>
  <span class="n">m_nVal2</span> <span class="o">=</span> <span class="n">nVal2</span><span class="p">;</span>
  <span class="n">strcpy</span><span class="p">(</span><span class="n">m_szName</span><span class="p">,</span> <span class="s">&#34;Hun&#34;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="对象传参">对象传参</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">void</span> <span class="nf">foo</span><span class="p">(</span><span class="n">CLuoTest</span> <span class="n">LuoTest</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">LuoTest</span><span class="p">.</span><span class="n">Show</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="无拷贝构造">无拷贝构造</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoTest</span> <span class="n">LuoTest</span><span class="p">;</span>
  <span class="n">LuoTest</span><span class="p">.</span><span class="n">SetVal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
  <span class="n">foo</span><span class="p">(</span><span class="n">LuoTest</span><span class="p">);</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="release-15">Release</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e4%bc%a0%e5%8f%821.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%821.png, images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e4%bc%a0%e5%8f%821.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%821.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%821.png"
        title="对象传参1" /></p>
<h5 id="特征-37">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">以栈顶为Dst,对象地址为Src,执行memcpy,浅拷贝.
</code></pre></td></tr></table>
</div>
</div><h4 id="有拷贝构造">有拷贝构造</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="cm">/*
</span><span class="cm">//拷贝构造
</span><span class="cm">CLuoTest::CLuoTest(CLuoTest&amp; Obj)
</span><span class="cm">{
</span><span class="cm">m_nVal1 = Obj.m_nVal1;
</span><span class="cm">m_nVal2 = Obj. m_nVal2;
</span><span class="cm">strncpy(m_szName, Obj. m_szName, 20);
</span><span class="cm">}
</span><span class="cm">*/</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoTest</span> <span class="n">LuoTest</span><span class="p">;</span>
  <span class="n">LuoTest</span><span class="p">.</span><span class="n">SetVal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
  <span class="n">foo</span><span class="p">(</span><span class="n">LuoTest</span><span class="p">);</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-17">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e4%bc%a0%e5%8f%822.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%822.png, images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e4%bc%a0%e5%8f%822.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%822.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%822.png"
        title="对象传参2" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e4%bc%a0%e5%8f%823.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%823.png, images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e4%bc%a0%e5%8f%823.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%823.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%823.png"
        title="对象传参3" /></p>
<h5 id="release-16">Release</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e4%bc%a0%e5%8f%824.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%824.png, images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e4%bc%a0%e5%8f%824.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%824.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%824.png"
        title="对象传参4" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e4%bc%a0%e5%8f%825.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%825.png, images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e4%bc%a0%e5%8f%825.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%825.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%8F%825.png"
        title="对象传参5" /></p>
<h5 id="特征-38">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="err">①将栈顶作为</span><span class="nf">this指针给ecx</span><span class="p">,</span><span class="err">调用拷贝构造</span>
<span class="err">关键语句:</span><span class="nf">mov</span> <span class="no">ecx</span><span class="p">,</span> <span class="no">esp</span>
<span class="err">②函数外调用构造函数,函数内调用析构函数</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="对象返回">对象返回</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="n">CLuoTest</span> <span class="nf">GetObj</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">CLuoTest</span> <span class="n">LuoTest</span><span class="p">;</span>
  <span class="n">LuoTest</span><span class="p">.</span><span class="n">SetVal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
  <span class="k">return</span> <span class="n">LuoTest</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="拷贝构造">拷贝构造</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="cm">/*
</span><span class="cm">//拷贝构造
</span><span class="cm">CLuoTest::CLuoTest(CLuoTest&amp; obj)
</span><span class="cm">{
</span><span class="cm">m_nVal1 = obj.m_nVal1;
</span><span class="cm">m_nVal2 = obj. m_nVal2;
</span><span class="cm">strncpy(m_szName, obj. m_szName, 20);
</span><span class="cm">}
</span><span class="cm">*/</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoTest</span> <span class="n">HunTest</span> <span class="o">=</span> <span class="n">GetObj</span><span class="p">();</span> <span class="c1">//拷贝构造
</span><span class="c1"></span>  <span class="n">HunTest</span><span class="p">.</span><span class="n">Show</span><span class="p">();</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-18">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e8%bf%94%e5%9b%9e%e6%8b%b7%e8%b4%9d%e6%9e%84%e9%80%a01.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A01.png, images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e8%bf%94%e5%9b%9e%e6%8b%b7%e8%b4%9d%e6%9e%84%e9%80%a01.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A01.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A01.png"
        title="对象返回拷贝构造1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e8%bf%94%e5%9b%9e%e6%8b%b7%e8%b4%9d%e6%9e%84%e9%80%a02.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A02.png, images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e8%bf%94%e5%9b%9e%e6%8b%b7%e8%b4%9d%e6%9e%84%e9%80%a02.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A02.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A02.png"
        title="对象返回拷贝构造2" /></p>
<h4 id="浅拷贝">浅拷贝</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoTest</span> <span class="n">HunTest</span><span class="p">;</span>
  <span class="n">HunTest</span> <span class="o">=</span> <span class="n">GetObj</span><span class="p">();</span> <span class="c1">//浅拷贝,产生临时对象
</span><span class="c1"></span>  <span class="n">HunTest</span><span class="p">.</span><span class="n">Show</span><span class="p">();</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-19">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e8%bf%94%e5%9b%9e%e6%b5%85%e6%8b%b7%e8%b4%9d1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%B5%85%E6%8B%B7%E8%B4%9D1.png, images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e8%bf%94%e5%9b%9e%e6%b5%85%e6%8b%b7%e8%b4%9d1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%B5%85%E6%8B%B7%E8%B4%9D1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%B5%85%E6%8B%B7%E8%B4%9D1.png"
        title="对象返回浅拷贝1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e8%bf%94%e5%9b%9e%e6%b5%85%e6%8b%b7%e8%b4%9d2.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%B5%85%E6%8B%B7%E8%B4%9D2.png, images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e8%bf%94%e5%9b%9e%e6%b5%85%e6%8b%b7%e8%b4%9d2.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%B5%85%E6%8B%B7%E8%B4%9D2.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%B5%85%E6%8B%B7%E8%B4%9D2.png"
        title="对象返回浅拷贝2" /></p>
<h5 id="特征-39">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">①调用函数结束后</span><span class="p">,</span><span class="err">会执行以返回值为</span><span class="n">Src</span><span class="p">,</span><span class="err">目标对象为</span><span class="n">Dst的memcpy</span><span class="p">.</span>
<span class="err">②临时对象</span><span class="p">,</span><span class="err">即多传进去的那个参数会执行析构</span><span class="p">.</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="无名对象">无名对象</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoTest</span><span class="o">&amp;</span> <span class="n">Ref</span> <span class="o">=</span> <span class="n">GetObj</span><span class="p">();</span> <span class="c1">//产生无名对象,遇到分号不析构,生命周期随Ref
</span><span class="c1"></span>  <span class="n">Ref</span><span class="p">.</span><span class="n">Show</span><span class="p">();</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-20">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e8%bf%94%e5%9b%9e%e6%97%a0%e5%90%8d%e5%af%b9%e8%b1%a11.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%97%A0%E5%90%8D%E5%AF%B9%E8%B1%A11.png, images/C&#43;&#43;%e9%80%86%e5%90%912/%e5%af%b9%e8%b1%a1%e8%bf%94%e5%9b%9e%e6%97%a0%e5%90%8d%e5%af%b9%e8%b1%a11.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%97%A0%E5%90%8D%E5%AF%B9%E8%B1%A11.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E%E6%97%A0%E5%90%8D%E5%AF%B9%E8%B1%A11.png"
        title="对象返回无名对象1" /></p>
<h5 id="特征-40">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">将返回值给引用.
</code></pre></td></tr></table>
</div>
</div><h4 id="特征-41">特征</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="err">①函数多了一个参数</span><span class="p">.</span>
<span class="err">②函数内构造</span><span class="p">,</span><span class="err">函数外析构</span><span class="p">.</span>
<span class="err">③返回参数</span><span class="mf">1.</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="运算符重载">运算符重载</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="cm">/*
</span><span class="cm">//运算符重载
</span><span class="cm">//类内声明为友元函数
</span><span class="cm">friend CLuoTest&amp; operator+(CLuoTest&amp; ObjDst, CLuoTest&amp; ObjSrc);
</span><span class="cm">
</span><span class="cm">CLuoTest&amp; operator+(CLuoTest&amp; ObjDst, CLuoTest&amp; ObjSrc)
</span><span class="cm">{
</span><span class="cm">ObjDst.m_nVal1 +=  ObjSrc.m_nVal1;
</span><span class="cm">ObjDst.m_nVal2 += ObjSrc.m_nVal2;
</span><span class="cm">return ObjDst;
</span><span class="cm">}
</span><span class="cm">*/</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoTest</span> <span class="n">LuoTest</span><span class="p">;</span>
  <span class="n">LuoTest</span><span class="p">.</span><span class="n">SetVal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
  <span class="n">CLuoTest</span> <span class="n">HunTest</span><span class="p">;</span>
  <span class="n">LuoTest</span> <span class="o">=</span> <span class="n">LuoTest</span> <span class="o">+</span> <span class="n">HunTest</span><span class="p">;</span>  <span class="c1">//中缀式,实际调用方式为波兰式 LuoTest = operator+(LuoTest, HunTest);
</span><span class="c1"></span>  <span class="n">LuoTest</span><span class="p">.</span><span class="n">Show</span><span class="p">();</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="release-17">Release</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%912/%e8%bf%90%e7%ae%97%e7%ac%a6%e9%87%8d%e8%bd%bd1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD1.png, images/C&#43;&#43;%e9%80%86%e5%90%912/%e8%bf%90%e7%ae%97%e7%ac%a6%e9%87%8d%e8%bd%bd1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD1.png"
        title="对象返回运算符重载1" /></p>
<h3 id="静态局部">静态局部</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">static</span> <span class="n">CLuoTest</span> <span class="n">LuoTest</span><span class="p">;</span>
  <span class="n">LuoTest</span><span class="p">.</span><span class="n">Show</span><span class="p">();</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="release-18">Release</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%912/%e9%9d%99%e6%80%81%e5%b1%80%e9%83%a81.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E9%9D%99%E6%80%81%E5%B1%80%E9%83%A81.png, images/C&#43;&#43;%e9%80%86%e5%90%912/%e9%9d%99%e6%80%81%e5%b1%80%e9%83%a81.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E9%9D%99%E6%80%81%E5%B1%80%E9%83%A81.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E9%9D%99%E6%80%81%E5%B1%80%E9%83%A81.png"
        title="静态局部1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%912/%e9%9d%99%e6%80%81%e5%b1%80%e9%83%a82.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E9%9D%99%E6%80%81%E5%B1%80%E9%83%A82.png, images/C&#43;&#43;%e9%80%86%e5%90%912/%e9%9d%99%e6%80%81%e5%b1%80%e9%83%a82.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E9%9D%99%E6%80%81%E5%B1%80%E9%83%A82.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%912/%E9%9D%99%E6%80%81%E5%B1%80%E9%83%A82.png"
        title="静态局部2" /></p>
<h4 id="特征-42">特征</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">①用一个标记来记录静态局部对象是否已初始化.
②若未初始化,则执行构造函数,并注册析构代理.
</code></pre></td></tr></table>
</div>
</div><h2 id="c之单重继承">C++之单重继承</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">CLuoTest</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">CLuoTest</span><span class="p">();</span>
  <span class="n">CLuoTest</span><span class="o">::</span><span class="n">CLuoTest</span><span class="p">(</span><span class="n">CLuoTest</span><span class="o">&amp;</span> <span class="n">Obj</span><span class="p">);</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">CLuoTest</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Show</span><span class="p">();</span>
  <span class="kt">void</span> <span class="nf">SetVal</span><span class="p">(</span><span class="kt">int</span> <span class="n">nVal1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nVal2</span><span class="p">);</span>

<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">m_nVal1</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">m_nVal2</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">m_szName</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
<span class="p">};</span>

<span class="n">CLuoTest</span><span class="o">::</span><span class="n">CLuoTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">m_nVal1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="n">m_nVal2</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
  <span class="n">strcpy</span><span class="p">(</span><span class="n">m_szName</span><span class="p">,</span> <span class="s">&#34;Luo&#34;</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoTest::CLuoTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">};</span>

<span class="n">CLuoTest</span><span class="o">::</span><span class="n">CLuoTest</span><span class="p">(</span><span class="n">CLuoTest</span><span class="o">&amp;</span> <span class="n">Obj</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">m_nVal1</span> <span class="o">=</span> <span class="n">Obj</span><span class="p">.</span><span class="n">m_nVal1</span><span class="p">;</span>
  <span class="n">m_nVal2</span> <span class="o">=</span> <span class="n">Obj</span><span class="p">.</span><span class="n">m_nVal2</span><span class="p">;</span>
  <span class="n">strncpy</span><span class="p">(</span><span class="n">m_szName</span><span class="p">,</span> <span class="n">Obj</span><span class="p">.</span><span class="n">m_szName</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">CLuoTest</span><span class="o">::~</span><span class="n">CLuoTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoTest::~CLuoTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">CLuoTest</span><span class="o">::</span><span class="n">Show</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoTest:%d, %d, %s</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">m_nVal1</span><span class="p">,</span> <span class="n">m_nVal2</span><span class="p">,</span> <span class="n">m_szName</span><span class="p">);</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">CLuoTest</span><span class="o">::</span><span class="n">SetVal</span><span class="p">(</span><span class="kt">int</span> <span class="n">nVal1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nVal2</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">m_nVal1</span> <span class="o">=</span> <span class="n">nVal1</span><span class="p">;</span>
  <span class="n">m_nVal2</span> <span class="o">=</span> <span class="n">nVal2</span><span class="p">;</span>
  <span class="n">strcpy</span><span class="p">(</span><span class="n">m_szName</span><span class="p">,</span> <span class="s">&#34;Hun&#34;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="虚函数">虚函数</h3>
<p>只有使用对象的指针或引用调用虚函数时,才有访问虚表,间接调用的动作.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoTest</span> <span class="n">LuoObj</span><span class="p">;</span>
  <span class="n">LuoObj</span><span class="p">.</span><span class="n">Show</span><span class="p">();</span>

  <span class="n">CLuoTest</span><span class="o">&amp;</span> <span class="n">HunObj</span> <span class="o">=</span> <span class="n">LuoObj</span><span class="p">;</span>
  <span class="n">HunObj</span><span class="p">.</span><span class="n">Show</span><span class="p">();</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="调用方式">调用方式</h4>
<h5 id="debug-21">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%913/%e8%99%9a%e5%87%bd%e6%95%b0%e8%b0%83%e7%94%a8%e6%96%b9%e5%bc%8f1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E8%99%9A%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E6%96%B9%E5%BC%8F1.png, images/C&#43;&#43;%e9%80%86%e5%90%913/%e8%99%9a%e5%87%bd%e6%95%b0%e8%b0%83%e7%94%a8%e6%96%b9%e5%bc%8f1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E8%99%9A%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E6%96%B9%E5%BC%8F1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E8%99%9A%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E6%96%B9%E5%BC%8F1.png"
        title="虚函数调用方式1" /></p>
<h5 id="特征-43">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">访问虚表,间接调用虚函数.
</code></pre></td></tr></table>
</div>
</div><h4 id="构造函数-2">构造函数</h4>
<h5 id="debug-22">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%913/%e8%99%9a%e5%87%bd%e6%95%b0%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b01.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B01.png, images/C&#43;&#43;%e9%80%86%e5%90%913/%e8%99%9a%e5%87%bd%e6%95%b0%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b01.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B01.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B01.png"
        title="虚函数构造函数1" /></p>
<h5 id="特征-44">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">构造函数会填写虚表,这个地址在只读数据区.
注意:虚表中的函数指针不是0结尾,需通过实际调用,来判断虚函数.
</code></pre></td></tr></table>
</div>
</div><h4 id="初始化列表">初始化列表</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="n">CLuoTest</span><span class="o">::</span><span class="n">CLuoTest</span><span class="p">()</span>
  <span class="o">:</span><span class="n">m_nVal1</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">m_nVal2</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">strcpy</span><span class="p">(</span><span class="n">m_szName</span><span class="p">,</span> <span class="s">&#34;Luo&#34;</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoTest::CLuoTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-23">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%913/%e8%99%9a%e5%87%bd%e6%95%b0%e5%88%9d%e5%a7%8b%e5%8c%96%e5%88%97%e8%a1%a81.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E8%99%9A%E5%87%BD%E6%95%B0%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A81.png, images/C&#43;&#43;%e9%80%86%e5%90%913/%e8%99%9a%e5%87%bd%e6%95%b0%e5%88%9d%e5%a7%8b%e5%8c%96%e5%88%97%e8%a1%a81.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E8%99%9A%E5%87%BD%E6%95%B0%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A81.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E8%99%9A%E5%87%BD%E6%95%B0%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A81.png"
        title="虚函数初始化列表1" /></p>
<h4 id="析构函数-2">析构函数</h4>
<h5 id="debug-24">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%913/%e8%99%9a%e5%87%bd%e6%95%b0%e6%9e%90%e6%9e%84%e5%87%bd%e6%95%b0.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0.png, images/C&#43;&#43;%e9%80%86%e5%90%913/%e8%99%9a%e5%87%bd%e6%95%b0%e6%9e%90%e6%9e%84%e5%87%bd%e6%95%b0.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0.png"
        title="虚函数析构函数" /></p>
<h5 id="特征-45">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">析构函数会回填虚表地址.
</code></pre></td></tr></table>
</div>
</div><h5 id="注意-4">注意</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">为什么析构函数会填写虚表?
假设有类A和类B.
B继承A,构造时填写的是B的虚表.
而当B析构完,还需要析构A,但此时this指针中的虚表填写的是B的虚表.
如果此时我们通过虚表间接访问,就会访问到B的函数,但是B已经析构完了.
故需要在析构的时候回填虚表.
</code></pre></td></tr></table>
</div>
</div><h3 id="单重继承有虚函数">单重继承有虚函数</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">CHunTest</span> <span class="o">:</span> <span class="k">public</span> <span class="n">CLuoTest</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">CHunTest</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">CHunTest</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Show</span><span class="p">();</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">m_nVal1</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">m_nVal2</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">m_szName</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
<span class="p">};</span>

<span class="n">CHunTest</span><span class="o">::</span><span class="n">CHunTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">m_nVal1</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
  <span class="n">m_nVal2</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
  <span class="n">strcpy</span><span class="p">(</span><span class="n">m_szName</span><span class="p">,</span> <span class="s">&#34;Hun&#34;</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CHunTest::CHunTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">CHunTest</span><span class="o">::~</span><span class="n">CHunTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CHunTest::~CHunTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">CHunTest</span><span class="o">::</span><span class="n">Show</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CHunTest:%d, %d, %s</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">m_nVal1</span><span class="p">,</span> <span class="n">m_nVal2</span><span class="p">,</span> <span class="n">m_szName</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="构造函数-3">构造函数</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoTest</span><span class="o">*</span> <span class="n">pLuoObj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CHunTest</span><span class="p">;</span>
  <span class="n">pLuoObj</span><span class="o">-&gt;</span><span class="n">Show</span><span class="p">();</span>
  <span class="k">delete</span> <span class="n">pLuoObj</span><span class="p">;</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-25">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%913/%e5%8d%95%e9%87%8d%e7%bb%a7%e6%89%bf%e6%9c%89%e8%99%9a%e5%87%bd%e6%95%b0%e6%9e%84%e9%80%a01.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E5%8D%95%E9%87%8D%E7%BB%A7%E6%89%BF%E6%9C%89%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A01.png, images/C&#43;&#43;%e9%80%86%e5%90%913/%e5%8d%95%e9%87%8d%e7%bb%a7%e6%89%bf%e6%9c%89%e8%99%9a%e5%87%bd%e6%95%b0%e6%9e%84%e9%80%a01.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E5%8D%95%E9%87%8D%E7%BB%A7%E6%89%BF%E6%9C%89%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A01.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E5%8D%95%E9%87%8D%E7%BB%A7%E6%89%BF%E6%9C%89%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A01.png"
        title="单重继承有虚函数构造1" /></p>
<h6 id="虚表内容">虚表内容</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%913/%e5%8d%95%e9%87%8d%e7%bb%a7%e6%89%bf%e6%9c%89%e8%99%9a%e5%87%bd%e6%95%b0%e6%9e%84%e9%80%a02.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E5%8D%95%E9%87%8D%E7%BB%A7%E6%89%BF%E6%9C%89%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A02.png, images/C&#43;&#43;%e9%80%86%e5%90%913/%e5%8d%95%e9%87%8d%e7%bb%a7%e6%89%bf%e6%9c%89%e8%99%9a%e5%87%bd%e6%95%b0%e6%9e%84%e9%80%a02.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E5%8D%95%E9%87%8D%E7%BB%A7%E6%89%BF%E6%9C%89%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A02.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E5%8D%95%E9%87%8D%E7%BB%A7%E6%89%BF%E6%9C%89%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A02.png"
        title="单重继承有虚函数构造2" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%913/%e5%8d%95%e9%87%8d%e7%bb%a7%e6%89%bf%e6%9c%89%e8%99%9a%e5%87%bd%e6%95%b0%e6%9e%84%e9%80%a03.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E5%8D%95%E9%87%8D%E7%BB%A7%E6%89%BF%E6%9C%89%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A03.png, images/C&#43;&#43;%e9%80%86%e5%90%913/%e5%8d%95%e9%87%8d%e7%bb%a7%e6%89%bf%e6%9c%89%e8%99%9a%e5%87%bd%e6%95%b0%e6%9e%84%e9%80%a03.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E5%8D%95%E9%87%8D%E7%BB%A7%E6%89%BF%E6%9C%89%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A03.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E5%8D%95%E9%87%8D%E7%BB%A7%E6%89%BF%E6%9C%89%E8%99%9A%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A03.png"
        title="单重继承有虚函数构造3" /></p>
<h4 id="技巧之交叉引用">技巧之交叉引用</h4>
<h5 id="查看虚表引用">查看虚表引用</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoTest</span><span class="o">*</span> <span class="n">pLuoObj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CHunTest</span><span class="p">;</span>
  <span class="n">pLuoObj</span><span class="o">-&gt;</span><span class="n">Show</span><span class="p">();</span>
  <span class="k">delete</span> <span class="n">pLuoObj</span><span class="p">;</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="找到构造函数识别出虚表地址">找到构造函数,识别出虚表地址</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%913/%e6%9f%a5%e7%9c%8b%e8%99%9a%e8%a1%a8%e5%bc%95%e7%94%a81.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E8%99%9A%E8%A1%A8%E5%BC%95%E7%94%A81.png, images/C&#43;&#43;%e9%80%86%e5%90%913/%e6%9f%a5%e7%9c%8b%e8%99%9a%e8%a1%a8%e5%bc%95%e7%94%a81.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E8%99%9A%E8%A1%A8%E5%BC%95%E7%94%A81.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E8%99%9A%E8%A1%A8%E5%BC%95%E7%94%A81.png"
        title="查看虚表引用1" /></p>
<h6 id="右键xrefs-graph-to">右键Xrefs graph to</h6>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%913/%e6%9f%a5%e7%9c%8b%e8%99%9a%e8%a1%a8%e5%bc%95%e7%94%a82.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E8%99%9A%E8%A1%A8%E5%BC%95%E7%94%A82.png, images/C&#43;&#43;%e9%80%86%e5%90%913/%e6%9f%a5%e7%9c%8b%e8%99%9a%e8%a1%a8%e5%bc%95%e7%94%a82.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E8%99%9A%E8%A1%A8%E5%BC%95%E7%94%A82.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E8%99%9A%E8%A1%A8%E5%BC%95%E7%94%A82.png"
        title="查看虚表引用2" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%913/%e6%9f%a5%e7%9c%8b%e8%99%9a%e8%a1%a8%e5%bc%95%e7%94%a83.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E8%99%9A%E8%A1%A8%E5%BC%95%E7%94%A83.png, images/C&#43;&#43;%e9%80%86%e5%90%913/%e6%9f%a5%e7%9c%8b%e8%99%9a%e8%a1%a8%e5%bc%95%e7%94%a83.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E8%99%9A%E8%A1%A8%E5%BC%95%E7%94%A83.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E8%99%9A%E8%A1%A8%E5%BC%95%E7%94%A83.png"
        title="查看虚表引用3" /></p>
<p>从这张图中,我们就可以知道构造函数和析构函数.</p>
<h5 id="查看构造函数引用">查看构造函数引用</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="n">CHunTest</span> <span class="n">g_HunObj</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CHunTest</span> <span class="n">HunObj1</span><span class="p">;</span>
  <span class="n">CHunTest</span> <span class="n">HunObj2</span><span class="p">;</span>
  <span class="n">CHunTest</span> <span class="n">HunObj3</span><span class="p">;</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%913/%e6%9f%a5%e7%9c%8b%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e5%bc%95%e7%94%a8.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A8.png, images/C&#43;&#43;%e9%80%86%e5%90%913/%e6%9f%a5%e7%9c%8b%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e5%bc%95%e7%94%a8.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A8.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A8.png"
        title="查看构造函数引用" /></p>
<h5 id="查看父类构造函数引用">查看父类构造函数引用</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">CHunTest1</span> <span class="o">:</span> <span class="k">public</span> <span class="n">CLuoTest</span>
<span class="p">{</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">CHunTest2</span> <span class="o">:</span> <span class="k">public</span> <span class="n">CLuoTest</span>
<span class="p">{</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">CHunTest3</span> <span class="o">:</span> <span class="k">public</span> <span class="n">CLuoTest</span>
<span class="p">{</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CHunTest</span>  <span class="n">HunObj</span><span class="p">;</span>
  <span class="n">CHunTest1</span> <span class="n">HunObj1</span><span class="p">;</span>
  <span class="n">CHunTest2</span> <span class="n">HunObj2</span><span class="p">;</span>
  <span class="n">CHunTest3</span> <span class="n">HunObj3</span><span class="p">;</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%913/%e6%9f%a5%e7%9c%8b%e7%88%b6%e7%b1%bb%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e5%bc%95%e7%94%a81.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E7%88%B6%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A81.png, images/C&#43;&#43;%e9%80%86%e5%90%913/%e6%9f%a5%e7%9c%8b%e7%88%b6%e7%b1%bb%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e5%bc%95%e7%94%a81.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E7%88%B6%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A81.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E7%88%B6%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A81.png"
        title="查看父类构造函数引用1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%913/%e6%9f%a5%e7%9c%8b%e7%88%b6%e7%b1%bb%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e5%bc%95%e7%94%a82.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E7%88%B6%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A82.png, images/C&#43;&#43;%e9%80%86%e5%90%913/%e6%9f%a5%e7%9c%8b%e7%88%b6%e7%b1%bb%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e5%bc%95%e7%94%a82.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E7%88%B6%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A82.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E7%88%B6%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A82.png"
        title="查看父类构造函数引用2" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%913/%e6%9f%a5%e7%9c%8b%e7%88%b6%e7%b1%bb%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e5%bc%95%e7%94%a83.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E7%88%B6%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A83.png, images/C&#43;&#43;%e9%80%86%e5%90%913/%e6%9f%a5%e7%9c%8b%e7%88%b6%e7%b1%bb%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e5%bc%95%e7%94%a83.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E7%88%B6%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A83.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%913/%E6%9F%A5%E7%9C%8B%E7%88%B6%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A83.png"
        title="查看父类构造函数引用3" /></p>
<h2 id="c之对象关系">C++之对象关系</h2>
<h3 id="继承">继承</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%af%b9%e8%b1%a1%e5%85%b3%e7%b3%bb/%e7%bb%a7%e6%89%bf.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB/%E7%BB%A7%E6%89%BF.png, images/%e5%af%b9%e8%b1%a1%e5%85%b3%e7%b3%bb/%e7%bb%a7%e6%89%bf.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB/%E7%BB%A7%E6%89%BF.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB/%E7%BB%A7%E6%89%BF.png"
        title="继承" /></p>
<h4 id="特征-46">特征</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">共用虚表,同一虚表位置写两次.
</code></pre></td></tr></table>
</div>
</div><h3 id="包含">包含</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%af%b9%e8%b1%a1%e5%85%b3%e7%b3%bb/%e5%8c%85%e5%90%ab.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB/%E5%8C%85%E5%90%AB.png, images/%e5%af%b9%e8%b1%a1%e5%85%b3%e7%b3%bb/%e5%8c%85%e5%90%ab.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB/%E5%8C%85%E5%90%AB.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB/%E5%8C%85%E5%90%AB.png"
        title="包含" /></p>
<h4 id="特征-47">特征</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">不共用虚表,同一虚表位置写一次.
当红色对象析构时,紫色对象也不在了.
</code></pre></td></tr></table>
</div>
</div><h3 id="聚合">聚合</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%af%b9%e8%b1%a1%e5%85%b3%e7%b3%bb/%e8%81%9a%e5%90%88.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB/%E8%81%9A%E5%90%88.png, images/%e5%af%b9%e8%b1%a1%e5%85%b3%e7%b3%bb/%e8%81%9a%e5%90%88.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB/%E8%81%9A%E5%90%88.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB/%E8%81%9A%E5%90%88.png"
        title="聚合" /></p>
<h4 id="特征-48">特征</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">当红色对象析构时,紫色对象可在可不在.
</code></pre></td></tr></table>
</div>
</div><h3 id="注意-5">注意</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">当无虚表时,继承和包含无法区分.
因为面向对象,是通过行为区分的,不是通过数据区分的.
虚表用来区分每个对象是什么.
数据用来区分同类型实体的差异.
</code></pre></td></tr></table>
</div>
</div><h2 id="c之多重继承">C++之多重继承</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">CLuoTest</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">CLuoTest</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">CLuoTest</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Show</span><span class="p">();</span>

<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">m_nVal1</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">m_nVal2</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">m_szName</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
<span class="p">};</span>

<span class="n">CLuoTest</span><span class="o">::</span><span class="n">CLuoTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">m_nVal1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="n">m_nVal2</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
  <span class="n">strcpy</span><span class="p">(</span><span class="n">m_szName</span><span class="p">,</span> <span class="s">&#34;Luo&#34;</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoTest::CLuoTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">};</span>

<span class="n">CLuoTest</span><span class="o">::~</span><span class="n">CLuoTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoTest::~CLuoTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">CLuoTest</span><span class="o">::</span><span class="n">Show</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoTest:%d, %d, %s</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">m_nVal1</span><span class="p">,</span> <span class="n">m_nVal2</span><span class="p">,</span> <span class="n">m_szName</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="多重继承">多重继承</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">CHunTest</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">CHunTest</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">CHunTest</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Show</span><span class="p">();</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">m_nVal1</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">m_nVal2</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">m_szName</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
<span class="p">};</span>

<span class="n">CHunTest</span><span class="o">::</span><span class="n">CHunTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">m_nVal1</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
  <span class="n">m_nVal2</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
  <span class="n">strcpy</span><span class="p">(</span><span class="n">m_szName</span><span class="p">,</span> <span class="s">&#34;Hun&#34;</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CHunTest::CHunTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">CHunTest</span><span class="o">::~</span><span class="n">CHunTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CHunTest::~CHunTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">CHunTest</span><span class="o">::</span><span class="n">Show</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CHunTest:%d, %d, %s</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">m_nVal1</span><span class="p">,</span> <span class="n">m_nVal2</span><span class="p">,</span> <span class="n">m_szName</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">CLuoHunTest</span> <span class="o">:</span> <span class="k">public</span> <span class="n">CLuoTest</span><span class="p">,</span> <span class="k">public</span> <span class="n">CHunTest</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">CLuoHunTest</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">CLuoHunTest</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Show</span><span class="p">();</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">m_nVal1</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">m_nVal2</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">m_szName</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
<span class="p">};</span>

<span class="n">CLuoHunTest</span><span class="o">::</span><span class="n">CLuoHunTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">m_nVal1</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
  <span class="n">m_nVal2</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">;</span>
  <span class="n">strcpy</span><span class="p">(</span><span class="n">m_szName</span><span class="p">,</span> <span class="s">&#34;LuoHun&#34;</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoHunTest::CLuoHunTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">CLuoHunTest</span><span class="o">::~</span><span class="n">CLuoHunTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoHunTest::~CLuoHunTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">CLuoHunTest</span><span class="o">::</span><span class="n">Show</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoHunTest:%d, %d, %s</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">m_nVal1</span><span class="p">,</span> <span class="n">m_nVal2</span><span class="p">,</span> <span class="n">m_szName</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="内存模型">内存模型</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%914/%e5%a4%9a%e9%87%8d%e7%bb%a7%e6%89%bf%e5%86%85%e5%ad%98%e6%a8%a1%e5%9e%8b.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B.png, images/C&#43;&#43;%e9%80%86%e5%90%914/%e5%a4%9a%e9%87%8d%e7%bb%a7%e6%89%bf%e5%86%85%e5%ad%98%e6%a8%a1%e5%9e%8b.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B.png"
        title="多重继承内存模型" /></p>
<p>CLuo和CHun的顺序,按继承时的书写顺序,从左到右.</p>
<h4 id="构造函数-4">构造函数</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoHunTest</span><span class="o">*</span> <span class="n">pObj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CLuoHunTest</span><span class="p">;</span>
  <span class="n">pObj</span><span class="o">-&gt;</span><span class="n">Show</span><span class="p">();</span>
  <span class="k">delete</span> <span class="n">pObj</span><span class="p">;</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-26">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%914/%e5%a4%9a%e9%87%8d%e7%bb%a7%e6%89%bf%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0.png, images/C&#43;&#43;%e9%80%86%e5%90%914/%e5%a4%9a%e9%87%8d%e7%bb%a7%e6%89%bf%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0.png"
        title="多重继承构造函数" /></p>
<h5 id="特征-49">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">先调父类构造,然后有几个父类,就填写几次虚表.
</code></pre></td></tr></table>
</div>
</div><h4 id="同类型指针转换">同类型指针转换</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoHunTest</span> <span class="n">LuoHunObj</span><span class="p">;</span>
  <span class="n">CLuoTest</span><span class="o">*</span> <span class="n">pLuoObj</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">LuoHunObj</span><span class="p">;</span>
  <span class="n">CHunTest</span><span class="o">*</span> <span class="n">pHunObj</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">LuoHunObj</span><span class="p">;</span> <span class="c1">//这个地方会产生一个分支
</span><span class="c1"></span>
  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="debug-27">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%914/%e5%90%8c%e7%b1%bb%e5%9e%8b%e6%8c%87%e9%92%88%e8%bd%ac%e6%8d%a2.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E5%90%8C%E7%B1%BB%E5%9E%8B%E6%8C%87%E9%92%88%E8%BD%AC%E6%8D%A2.png, images/C&#43;&#43;%e9%80%86%e5%90%914/%e5%90%8c%e7%b1%bb%e5%9e%8b%e6%8c%87%e9%92%88%e8%bd%ac%e6%8d%a2.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E5%90%8C%E7%B1%BB%E5%9E%8B%E6%8C%87%E9%92%88%E8%BD%AC%E6%8D%A2.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E5%90%8C%E7%B1%BB%E5%9E%8B%E6%8C%87%E9%92%88%E8%BD%AC%E6%8D%A2.png"
        title="同类型指针转换" /></p>
<h5 id="注意-6">注意</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="err">为什么会产生一个分支</span><span class="o">?</span>
<span class="n">CLuoHunTest</span> <span class="n">LuoHunObj</span><span class="p">;</span>
<span class="n">CLuoTest</span><span class="o">*</span> <span class="n">pLuoObj</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">LuoHunObj</span><span class="p">;</span>
<span class="n">CHunTest</span><span class="o">*</span> <span class="n">pHunObj</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">LuoHunObj</span><span class="p">;</span><span class="c1">//这个地方会移动This指针,假如说&amp;LuoHunObj +0x10位置是CHunTest对象的位置,当&amp;LuoHunObj 不为NULL时,这样是正确的,但如果&amp;LuoHunObj为NULL,即下列代码,若无脑+0x10,结果就是错误的了
</span><span class="c1"></span><span class="n">CLuoTest</span><span class="o">*</span> <span class="n">pLuoObj</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="n">CHunTest</span><span class="o">*</span> <span class="n">pHunObj</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="纯虚函数识别">纯虚函数识别</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">CLuoTest</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">CLuoTest</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">CLuoTest</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Show</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">CLuoTest</span><span class="o">::</span><span class="n">CLuoTest</span><span class="p">()</span>
<span class="p">{</span>

<span class="p">};</span>

<span class="n">CLuoTest</span><span class="o">::~</span><span class="n">CLuoTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoTest::~CLuoTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">CLuoHunTest</span> <span class="o">:</span> <span class="k">public</span> <span class="n">CLuoTest</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">CLuoHunTest</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="o">~</span><span class="n">CLuoHunTest</span><span class="p">();</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Show</span><span class="p">();</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">m_nVal1</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">m_nVal2</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">m_szName</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
<span class="p">};</span>

<span class="n">CLuoHunTest</span><span class="o">::</span><span class="n">CLuoHunTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">m_nVal1</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
  <span class="n">m_nVal2</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">;</span>
  <span class="n">strcpy</span><span class="p">(</span><span class="n">m_szName</span><span class="p">,</span> <span class="s">&#34;LuoHun&#34;</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoHunTest::CLuoHunTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">CLuoHunTest</span><span class="o">::~</span><span class="n">CLuoHunTest</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoHunTest::~CLuoHunTest</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">CLuoHunTest</span><span class="o">::</span><span class="n">Show</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&#34;CLuoHunTest:%d, %d, %s</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">m_nVal1</span><span class="p">,</span> <span class="n">m_nVal2</span><span class="p">,</span> <span class="n">m_szName</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">CLuoHunTest</span> <span class="n">LuoHunObj</span><span class="p">;</span>
  <span class="n">LuoHunObj</span><span class="p">.</span><span class="n">Show</span><span class="p">();</span>

  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="定位到父类虚表的第二项纯虚函数项">定位到父类虚表的第二项,纯虚函数项</h4>
<h5 id="debug-28">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%914/%e7%ba%af%e8%99%9a%e5%87%bd%e6%95%b0%e8%af%86%e5%88%ab1.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0%E8%AF%86%E5%88%AB1.png, images/C&#43;&#43;%e9%80%86%e5%90%914/%e7%ba%af%e8%99%9a%e5%87%bd%e6%95%b0%e8%af%86%e5%88%ab1.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0%E8%AF%86%E5%88%AB1.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0%E8%AF%86%E5%88%AB1.png"
        title="纯虚函数识别1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%914/%e7%ba%af%e8%99%9a%e5%87%bd%e6%95%b0%e8%af%86%e5%88%ab2.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0%E8%AF%86%E5%88%AB2.png, images/C&#43;&#43;%e9%80%86%e5%90%914/%e7%ba%af%e8%99%9a%e5%87%bd%e6%95%b0%e8%af%86%e5%88%ab2.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0%E8%AF%86%E5%88%AB2.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%914/%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0%E8%AF%86%E5%88%AB2.png"
        title="纯虚函数识别2" /></p>
<h5 id="特征-50">特征</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">若强制调用纯虚函数,会出现一个错误.
因为虚表中,纯虚函数项填了一个提示错误信息,并关闭的函数指针即_purecall的函数指针.
</code></pre></td></tr></table>
</div>
</div><h3 id="注意-7">注意</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">在构造函数或析构函数中调虚函数,不会触发多态.
因为构造函数或析构函数中会回填虚表,填自身对象的虚表地址.
</code></pre></td></tr></table>
</div>
</div><h2 id="c之菱形结构">C++之菱形结构</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">CLuoA</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">TestA</span><span class="p">()</span> <span class="p">{}</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">TestCoverA</span><span class="p">()</span> <span class="p">{}</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">m_nValA</span> <span class="o">=</span> <span class="mh">0xAAAAAAAA</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">class</span> <span class="nc">CLuoB</span> <span class="o">:</span> <span class="k">virtual</span> <span class="k">public</span> <span class="n">CLuoA</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">TestCoverA</span><span class="p">()</span> <span class="p">{}</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">TestB</span><span class="p">()</span> <span class="p">{}</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">m_nValB</span> <span class="o">=</span> <span class="mh">0xBBBBBBBB</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">class</span> <span class="nc">CLuoD</span> <span class="o">:</span> <span class="k">virtual</span> <span class="k">public</span> <span class="n">CLuoA</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">TestCoverA</span><span class="p">()</span> <span class="p">{}</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">TestD</span><span class="p">()</span> <span class="p">{}</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">m_nValD</span> <span class="o">=</span> <span class="mh">0xDDDDDDDD</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">class</span> <span class="nc">CLuoE</span> <span class="o">:</span><span class="k">public</span> <span class="n">CLuoB</span><span class="p">,</span> <span class="k">public</span> <span class="n">CLuoD</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">TestCoverA</span><span class="p">()</span> <span class="p">{}</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">TestCoverB</span><span class="p">()</span> <span class="p">{}</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">TestCoverD</span><span class="p">()</span> <span class="p">{}</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">TestE</span><span class="p">()</span> <span class="p">{}</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">m_nValE</span> <span class="o">=</span> <span class="mh">0xEEEEEEEE</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="菱形结构">菱形结构</h3>
<h4 id="内存模型-1">内存模型</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%915/%e8%8f%b1%e5%bd%a2%e7%bb%93%e6%9e%841.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%841.png, images/C&#43;&#43;%e9%80%86%e5%90%915/%e8%8f%b1%e5%bd%a2%e7%bb%93%e6%9e%841.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%841.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%841.png"
        title="菱形结构1" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%915/%e8%8f%b1%e5%bd%a2%e7%bb%93%e6%9e%842.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%842.png, images/C&#43;&#43;%e9%80%86%e5%90%915/%e8%8f%b1%e5%bd%a2%e7%bb%93%e6%9e%842.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%842.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%842.png"
        title="菱形结构2" /></p>
<h4 id="构造函数-5">构造函数</h4>
<h5 id="debug-29">Debug</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%915/%e8%8f%b1%e5%bd%a2%e7%bb%93%e6%9e%843.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%843.png, images/C&#43;&#43;%e9%80%86%e5%90%915/%e8%8f%b1%e5%bd%a2%e7%bb%93%e6%9e%843.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%843.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%843.png"
        title="菱形结构3" /></p>
<p>这个地方传1,表明需要填写偏移以及调祖先类构造函数.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%915/%e8%8f%b1%e5%bd%a2%e7%bb%93%e6%9e%844.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%844.png, images/C&#43;&#43;%e9%80%86%e5%90%915/%e8%8f%b1%e5%bd%a2%e7%bb%93%e6%9e%844.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%844.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%844.png"
        title="菱形结构4" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/C&#43;&#43;%e9%80%86%e5%90%915/%e8%8f%b1%e5%bd%a2%e7%bb%93%e6%9e%845.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%845.png, images/C&#43;&#43;%e9%80%86%e5%90%915/%e8%8f%b1%e5%bd%a2%e7%bb%93%e6%9e%845.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%845.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/C&#43;&#43;%E9%80%86%E5%90%915/%E8%8F%B1%E5%BD%A2%E7%BB%93%E6%9E%845.png"
        title="菱形结构5" /></p>
<h2 id="异常">异常</h2>
<h3 id="基本数据类型异常">基本数据类型异常</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C++" data-lang="C++"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span><span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp">
</span><span class="cp"></span>
<span class="kt">void</span> <span class="nf">LuoTestException</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="p">{</span>
  <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
    <span class="p">{</span>
      <span class="k">throw</span> <span class="mi">1</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
    <span class="p">{</span>
      <span class="k">throw</span> <span class="mf">3.14f</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
    <span class="p">{</span>
      <span class="k">throw</span> <span class="mf">6.28</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
    <span class="p">{</span>
      <span class="k">throw</span> <span class="sc">&#39;L&#39;</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">case</span> <span class="mi">4</span><span class="o">:</span>
    <span class="p">{</span>
      <span class="kt">bool</span> <span class="n">bl</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
      <span class="k">throw</span> <span class="n">bl</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">default</span><span class="o">:</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">nVal</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">scanf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">nVal</span><span class="p">);</span>
  <span class="k">try</span>
  <span class="p">{</span>
    <span class="n">LuoTestException</span><span class="p">(</span><span class="n">nVal</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">catch</span> <span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;catch int %d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">catch</span> <span class="p">(</span><span class="kt">float</span> <span class="n">f</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;catch float %f</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">f</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">catch</span> <span class="p">(</span><span class="kt">double</span> <span class="n">dbl</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;catch double %lf</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">dbl</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">catch</span> <span class="p">(</span><span class="kt">char</span> <span class="n">ch</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;catch char %c</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">ch</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">catch</span> <span class="p">(</span><span class="kt">bool</span> <span class="n">b</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;catch bool %d</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">catch</span><span class="p">(...)</span>
  <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&#34;catch all</span><span class="se">\r\n</span><span class="s">&#34;</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="n">system</span><span class="p">(</span><span class="s">&#34;pause&#34;</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="无脑定位异常处理函数">无脑定位异常处理函数</h3>
<ol>
<li>如果我们在调试的时候,看到抛异常的函数.</li>
</ol>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e6%97%a0%e8%84%91%e5%ae%9a%e4%bd%8d%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e5%87%bd%e6%95%b01.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E6%97%A0%E8%84%91%E5%AE%9A%E4%BD%8D%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B01.png, images/%e5%bc%82%e5%b8%b8/%e6%97%a0%e8%84%91%e5%ae%9a%e4%bd%8d%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e5%87%bd%e6%95%b01.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E6%97%A0%E8%84%91%E5%AE%9A%E4%BD%8D%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B01.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E6%97%A0%E8%84%91%E5%AE%9A%E4%BD%8D%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B01.png"
        title="无脑定位异常处理函数1" /></p>
<ol start="2">
<li>我们找到SEH链第一个异常处理的地方,下断,F9运行.</li>
</ol>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e6%97%a0%e8%84%91%e5%ae%9a%e4%bd%8d%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e5%87%bd%e6%95%b02.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E6%97%A0%E8%84%91%E5%AE%9A%E4%BD%8D%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B02.png, images/%e5%bc%82%e5%b8%b8/%e6%97%a0%e8%84%91%e5%ae%9a%e4%bd%8d%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e5%87%bd%e6%95%b02.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E6%97%A0%E8%84%91%E5%AE%9A%E4%BD%8D%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B02.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E6%97%A0%E8%84%91%E5%AE%9A%E4%BD%8D%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B02.png"
        title="无脑定位异常处理函数2" /></p>
<ol start="3">
<li>按照以下定则进call.</li>
</ol>
<ul>
<li>找参数最多的call下断点.</li>
<li>参数一样,就同时下断,看哪个到达.</li>
<li>最后一层是call寄存器(eax).</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e6%97%a0%e8%84%91%e5%ae%9a%e4%bd%8d%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e5%87%bd%e6%95%b03.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E6%97%A0%E8%84%91%E5%AE%9A%E4%BD%8D%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B03.png, images/%e5%bc%82%e5%b8%b8/%e6%97%a0%e8%84%91%e5%ae%9a%e4%bd%8d%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e5%87%bd%e6%95%b03.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E6%97%A0%E8%84%91%E5%AE%9A%E4%BD%8D%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B03.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E6%97%A0%E8%84%91%E5%AE%9A%E4%BD%8D%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B03.png"
        title="无脑定位异常处理函数3" /></p>
<h3 id="异常信息关系表">异常信息关系表</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e5%bc%82%e5%b8%b8%e4%bf%a1%e6%81%af%e5%85%b3%e7%b3%bb%e8%a1%a8.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E5%BC%82%E5%B8%B8%E4%BF%A1%E6%81%AF%E5%85%B3%E7%B3%BB%E8%A1%A8.png, images/%e5%bc%82%e5%b8%b8/%e5%bc%82%e5%b8%b8%e4%bf%a1%e6%81%af%e5%85%b3%e7%b3%bb%e8%a1%a8.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E5%BC%82%E5%B8%B8%E4%BF%A1%E6%81%AF%E5%85%B3%E7%B3%BB%E8%A1%A8.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E5%BC%82%E5%B8%B8%E4%BF%A1%E6%81%AF%E5%85%B3%E7%B3%BB%E8%A1%A8.png"
        title="异常信息关系表" /></p>
<h3 id="还原异常处理结构上半部分表">还原异常处理结构(上半部分表)</h3>
<ol>
<li>函数开头进入SEH异常链.</li>
</ol>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e7%bb%93%e6%9e%841.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%841.png, images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e7%bb%93%e6%9e%841.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%841.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%841.png"
        title="还原异常处理结构1" /></p>
<ol start="2">
<li>找到异常函数信息结构体.</li>
</ol>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e7%bb%93%e6%9e%842.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%842.png, images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e7%bb%93%e6%9e%842.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%842.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%842.png"
        title="还原异常处理结构2" /></p>
<ol start="3">
<li>分析数据关系.</li>
</ol>
<ul>
<li>第一张表记录了该函数有几个try,以及对应的try块信息表指针数组.</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e7%bb%93%e6%9e%843.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%843.png, images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e7%bb%93%e6%9e%843.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%843.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%843.png"
        title="还原异常处理结构3" /></p>
<ul>
<li>第二张表记录了try对应的catch个数,以及Rtti描述.</li>
<li>第三张表记录了catch的类型以及catch的处理函数.</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e7%bb%93%e6%9e%844.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%844.png, images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e7%bb%93%e6%9e%844.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%844.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%844.png"
        title="还原异常处理结构4" /></p>
<p><strong>注意</strong>:catch的处理函数是有返回值的,返回到catch结束的位置.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e7%bb%93%e6%9e%845.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%845.png, images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e7%bb%93%e6%9e%845.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%845.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%845.png"
        title="还原异常处理结构5" /></p>
<h3 id="还原具体的异常处理代码下半部分表">还原具体的异常处理代码(下半部分表)</h3>
<ol>
<li>找到函数内抛异常的函数,参数中找抛出的信息表.</li>
</ol>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%85%b7%e4%bd%93%e7%9a%84%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e4%bb%a3%e7%a0%811.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%811.png, images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%85%b7%e4%bd%93%e7%9a%84%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e4%bb%a3%e7%a0%811.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%811.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%811.png"
        title="还原具体的异常处理代码1" /></p>
<ol start="2">
<li>找到匹配列表.</li>
</ol>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%85%b7%e4%bd%93%e7%9a%84%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e4%bb%a3%e7%a0%812.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%812.png, images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%85%b7%e4%bd%93%e7%9a%84%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e4%bb%a3%e7%a0%812.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%812.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%812.png"
        title="还原具体的异常处理代码2" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%85%b7%e4%bd%93%e7%9a%84%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e4%bb%a3%e7%a0%813.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%813.png, images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%85%b7%e4%bd%93%e7%9a%84%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e4%bb%a3%e7%a0%813.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%813.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%813.png"
        title="还原具体的异常处理代码3" /></p>
<ol start="3">
<li>在catch信息表中找到类型信息表.</li>
</ol>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%85%b7%e4%bd%93%e7%9a%84%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e4%bb%a3%e7%a0%814.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%814.png, images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%85%b7%e4%bd%93%e7%9a%84%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e4%bb%a3%e7%a0%814.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%814.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%814.png"
        title="还原具体的异常处理代码4" /></p>
<ol start="4">
<li>对类型信息表,做交叉引用,就可以找到对应的catch处理代码.</li>
</ol>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%85%b7%e4%bd%93%e7%9a%84%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e4%bb%a3%e7%a0%815.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%815.png, images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%85%b7%e4%bd%93%e7%9a%84%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e4%bb%a3%e7%a0%815.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%815.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%815.png"
        title="还原具体的异常处理代码5" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%85%b7%e4%bd%93%e7%9a%84%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e4%bb%a3%e7%a0%816.png"
        data-srcset="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%816.png, images/%e5%bc%82%e5%b8%b8/%e8%bf%98%e5%8e%9f%e5%85%b7%e4%bd%93%e7%9a%84%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86%e4%bb%a3%e7%a0%816.png 1.5x, /posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%816.png 2x"
        data-sizes="auto"
        alt="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x86%E9%80%86%E5%90%91/images/%E5%BC%82%E5%B8%B8/%E8%BF%98%E5%8E%9F%E5%85%B7%E4%BD%93%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E4%BB%A3%E7%A0%816.png"
        title="还原具体的异常处理代码6" /></p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2022-02-14</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/c&#43;&#43;%E9%80%86%E5%90%91/">C&#43;&#43;逆向</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/android/android%E5%9F%BA%E7%A1%80/ndk%E8%BF%9B%E9%98%B6/" class="prev" rel="prev" title="NDK进阶"><i class="fas fa-angle-left fa-fw"></i>NDK进阶</a>
            <a href="/posts/c&#43;&#43;%E9%80%86%E5%90%91/x64%E9%80%86%E5%90%91/" class="next" rel="next" title="x64逆向">x64逆向<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">夏洛魂</div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2020 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">夏洛魂</a></span>&nbsp;|&nbsp;<span class="license">MIT</span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.zh.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":150},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
